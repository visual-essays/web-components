import{c as t,o as e,a as n,g as r}from"./p-7a9c1438.js";const i=r(t((function(t){var r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(t,e,n)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l=(t,e)=>{for(var n in e||(e={}))a.call(e,n)&&c(t,n,e[n]);if(s)for(var n of s(e))u.call(e,n)&&c(t,n,e[n]);return t},f=(t,e)=>i(t,o(e)),h=(t,e)=>{var n={};for(var r in t)a.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&s)for(var r of s(t))e.indexOf(r)<0&&u.call(t,r)&&(n[r]=t[r]);return n},d=(t,e,n)=>(c(t,"symbol"!=typeof e?e+"":e,n),n);t.exports=function(){var t,r,i,o,s,a,u,c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(e),p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(t,e){for(var n in e)t[n]=e[n];return t}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function g(e,n,r){var i,o,s,a={};for(s in n)"key"==s?i=n[s]:"ref"==s?o=n[s]:a[s]=n[s];if(arguments.length>2&&(a.children=arguments.length>3?t.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return w(e,a,i,o,null)}function w(t,e,n,o,s){var a={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++i:s};return null!=r.vnode&&r.vnode(a),a}function S(){return{current:null}}function A(t){return t.children}function O(t,e){this.props=t,this.context=e}function x(t,e){if(null==e)return t.__?x(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?x(t):null}function k(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return k(t)}}function j(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!M.__r++||a!==r.debounceRendering)&&((a=r.debounceRendering)||s)(M)}function M(){for(var t;M.__r=o.length;)t=o.sort((function(t,e){return t.__v.__b-e.__v.__b})),o=[],t.some((function(t){var e,n,r,i,o,s;t.__d&&(o=(i=(e=t).__v).__e,(s=e.__P)&&(n=[],(r=m({},i)).__v=i.__v+1,N(s,i,r,e.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?x(i):o,i.__h),F(n,i),i.__e!=o&&k(i)))}))}function E(t,e,n,r,i,o,s,a,u,c){var l,f,h,d,y,m,b,g=r&&r.__k||v,S=g.length;for(n.__k=[],l=0;l<e.length;l++)if(null!=(d=n.__k[l]=null==(d=e[l])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?w(null,d,null,null,d):Array.isArray(d)?w(A,{children:d},null,null,null):d.__b>0?w(d.type,d.props,d.key,null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(h=g[l])||h&&d.key==h.key&&d.type===h.type)g[l]=void 0;else for(f=0;f<S;f++){if((h=g[f])&&d.key==h.key&&d.type===h.type){g[f]=void 0;break}h=null}N(t,d,h=h||p,i,o,s,a,u,c),y=d.__e,(f=d.ref)&&h.ref!=f&&(b||(b=[]),h.ref&&b.push(h.ref,null,d),b.push(f,d.__c||y,d)),null!=y?(null==m&&(m=y),"function"==typeof d.type&&null!=d.__k&&d.__k===h.__k?d.__d=u=C(d,u,t):u=T(t,d,h,g,y,u),c||"option"!==n.type?"function"==typeof n.type&&(n.__d=u):t.value=""):u&&h.__e==u&&u.parentNode!=t&&(u=x(h))}for(n.__e=m,l=S;l--;)null!=g[l]&&("function"==typeof n.type&&null!=g[l].__e&&g[l].__e==n.__d&&(n.__d=x(r,l+1)),U(g[l],g[l]));if(b)for(l=0;l<b.length;l++)$(b[l],b[++l],b[++l])}function C(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e="function"==typeof i.type?C(i,e,n):T(n,i,i,t.__k,i.__e,e));return e}function D(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){D(t,e)})):e.push(t)),e}function T(t,e,n,r,i,o){var s,a,u;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==n||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<r.length;u+=2)if(a==i)break t;t.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function _(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||y.test(e)?n:n+"px"}function I(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||_(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||_(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?R:P,o):t.removeEventListener(e,o?R:P,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function P(t){this.l[t.type+!1](r.event?r.event(t):t)}function R(t){this.l[t.type+!0](r.event?r.event(t):t)}function N(e,n,i,o,s,a,u,c,l){var f,h,d,v,y,g,w,S,k,j,M,C=n.type;if(void 0!==n.constructor)return null;null!=i.__h&&(l=i.__h,c=n.__e=i.__e,n.__h=null,a=[c]),(f=r.__b)&&f(n);try{t:if("function"==typeof C){if(S=n.props,k=(f=C.contextType)&&o[f.__c],j=f?k?k.props.value:f.__:o,i.__c?w=(h=n.__c=i.__c).__=h.__E:("prototype"in C&&C.prototype.render?n.__c=h=new C(S,j):(n.__c=h=new O(S,j),h.constructor=C,h.render=z),k&&k.sub(h),h.props=S,h.state||(h.state={}),h.context=j,h.__n=o,d=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=C.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=m({},h.__s)),m(h.__s,C.getDerivedStateFromProps(S,h.__s))),v=h.props,y=h.state,d)null==C.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==C.getDerivedStateFromProps&&S!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(S,j),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(S,h.__s,j)||n.__v===i.__v){h.props=S,h.state=h.__s,n.__v!==i.__v&&(h.__d=!1),h.__v=n,n.__e=i.__e,n.__k=i.__k,n.__k.forEach((function(t){t&&(t.__=n)})),h.__h.length&&u.push(h);break t}null!=h.componentWillUpdate&&h.componentWillUpdate(S,h.__s,j),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(v,y,g)}))}h.context=j,h.props=S,h.state=h.__s,(f=r.__r)&&f(n),h.__d=!1,h.__v=n,h.__P=e,f=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(o=m(m({},o),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(g=h.getSnapshotBeforeUpdate(v,y)),M=null!=f&&f.type===A&&null==f.key?f.props.children:f,E(e,Array.isArray(M)?M:[M],n,i,o,s,a,u,c,l),h.base=n.__e,n.__h=null,h.__h.length&&u.push(h),w&&(h.__E=h.__=null),h.__e=!1}else null==a&&n.__v===i.__v?(n.__k=i.__k,n.__e=i.__e):n.__e=function(e,n,r,i,o,s,a,u){var c,l,f,h=r.props,d=n.props,v=n.type,y=0;if("svg"===v&&(o=!0),null!=s)for(;y<s.length;y++)if((c=s[y])&&(c===e||(v?c.localName==v:3==c.nodeType))){e=c,s[y]=null;break}if(null==e){if(null===v)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,d.is&&d),s=null,u=!1}if(null===v)h===d||u&&e.data===d||(e.data=d);else{if(s=s&&t.call(e.childNodes),l=(h=r.props||p).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!u){if(null!=s)for(h={},y=0;y<e.attributes.length;y++)h[e.attributes[y].name]=e.attributes[y].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||I(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||I(t,o,e[o],n[o],r)}(e,d,h,o,u),f)n.__k=[];else if(y=n.props.children,E(e,Array.isArray(y)?y:[y],n,r,i,o&&"foreignObject"!==v,s,a,s?s[0]:r.__k&&x(r,0),u),null!=s)for(y=s.length;y--;)null!=s[y]&&b(s[y]);u||("value"in d&&void 0!==(y=d.value)&&(y!==e.value||"progress"===v&&!y)&&I(e,"value",y,h.value,!1),"checked"in d&&void 0!==(y=d.checked)&&y!==e.checked&&I(e,"checked",y,h.checked,!1))}return e}(i.__e,n,i,o,s,a,u,l);(f=r.diffed)&&f(n)}catch(t){n.__v=null,(l||null!=a)&&(n.__e=c,n.__h=!!l,a[a.indexOf(c)]=null),r.__e(t,n,i)}}function F(t,e){r.__c&&r.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){r.__e(t,e.__v)}}))}function $(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){r.__e(t,n)}}function U(t,e,n){var i,o;if(r.unmount&&r.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||$(i,null,e)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){r.__e(t,e)}i.base=i.__P=null}if(i=t.__k)for(o=0;o<i.length;o++)i[o]&&U(i[o],e,"function"!=typeof t.type);n||null==t.__e||b(t.__e),t.__e=t.__d=void 0}function z(t,e,n){return this.constructor(t,n)}function V(e,n,i){var o,s,a;r.__&&r.__(e,n),s=(o="function"==typeof i)?null:i&&i.__k||n.__k,a=[],N(n,e=(!o&&i||n).__k=g(A,null,[e]),s||p,p,void 0!==n.ownerSVGElement,!o&&i?[i]:s?null:n.firstChild?t.call(n.childNodes):null,a,!o&&i?i:s?s.__e:n.firstChild,o),F(a,e)}function B(t,e){V(t,e,B)}function L(e,n,r){var i,o,s,a=m({},e.props);for(s in n)"key"==s?i=n[s]:"ref"==s?o=n[s]:a[s]=n[s];return arguments.length>2&&(a.children=arguments.length>3?t.call(arguments,2):r),w(e.type,a,i||e.key,o||e.ref,null)}function W(t,e){var n={__c:e="__cC"+u++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(j)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}t=v.slice,r={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(e){t=e}throw t}},i=0,O.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof t&&(t=t(m({},n),this.props)),t&&m(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),j(this))},O.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),j(this))},O.prototype.render=A,o=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,M.__r=0,u=0;var H,Y,G,X=0,q=[],J=r.__b,Z=r.__r,K=r.diffed,Q=r.__c,tt=r.unmount;function et(t,e){r.__h&&r.__h(Y,t,X||e),X=0;var n=Y.__H||(Y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function nt(t){return X=1,rt(mt,t)}function rt(t,e,n){var r=et(H++,2);return r.t=t,r.__c||(r.__=[n?n(e):mt(void 0,e),function(t){var e=r.t(r.__[0],t);r.__[0]!==e&&(r.__=[e,r.__[1]],r.__c.setState({}))}],r.__c=Y),r.__}function it(t,e){var n=et(H++,3);!r.__s&&yt(n.__H,e)&&(n.__=t,n.__H=e,Y.__H.__h.push(n))}function ot(t,e){var n=et(H++,4);!r.__s&&yt(n.__H,e)&&(n.__=t,n.__H=e,Y.__h.push(n))}function st(t){return X=5,ut((function(){return{current:t}}),[])}function at(t,e,n){X=6,ot((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))}function ut(t,e){var n=et(H++,7);return yt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ct(t,e){return X=8,ut((function(){return t}),e)}function lt(t){var e=Y.context[t.__c],n=et(H++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(Y)),e.props.value):t.__}function ft(t,e){r.useDebugValue&&r.useDebugValue(e?e(t):t)}function ht(){q.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(pt),t.__H.__h.forEach(vt),t.__H.__h=[]}catch(e){t.__H.__h=[],r.__e(e,t.__v)}})),q=[]}r.__b=function(t){Y=null,J&&J(t)},r.__r=function(t){Z&&Z(t),H=0;var e=(Y=t.__c).__H;e&&(e.__h.forEach(pt),e.__h.forEach(vt),e.__h=[])},r.diffed=function(t){K&&K(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==q.push(e)&&G===r.requestAnimationFrame||((G=r.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),dt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);dt&&(e=requestAnimationFrame(n))})(ht)),Y=void 0},r.__c=function(t,e){e.some((function(t){try{t.__h.forEach(pt),t.__h=t.__h.filter((function(t){return!t.__||vt(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],r.__e(n,t.__v)}})),Q&&Q(t,e)},r.unmount=function(t){tt&&tt(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(pt)}catch(t){r.__e(t,e.__v)}};var dt="function"==typeof requestAnimationFrame;function pt(t){var e=Y;"function"==typeof t.__c&&t.__c(),Y=e}function vt(t){var e=Y;t.__c=t.__(),Y=e}function yt(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function mt(t,e){return"function"==typeof e?e(t):e}function bt(t,e){for(var n in e)t[n]=e[n];return t}function gt(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function wt(t){this.props=t}function St(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:gt(this.props,t)}function r(e){return this.shouldComponentUpdate=n,g(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(wt.prototype=new O).isPureReactComponent=!0,wt.prototype.shouldComponentUpdate=function(t,e){return gt(this.props,t)||gt(this.state,e)};var At=r.__b;r.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),At&&At(t)};var Ot="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xt(t){function e(e,n){var r=bt({},e);return delete r.ref,t(r,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return e.$$typeof=Ot,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var kt=function(t,e){return null==t?null:D(D(t).map(e))},jt={map:kt,forEach:kt,count:function(t){return t?D(t).length:0},only:function(t){var e=D(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:D},Mt=r.__e;r.__e=function(t,e,n){if(t.then)for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);Mt(t,e,n)};var Et=r.unmount;function Ct(){this.__u=0,this.t=null,this.__b=null}function Dt(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Tt(t){var e,n,r;function i(i){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(!n)throw e;return g(n,i)}return i.displayName="Lazy",i.__f=!0,i}function _t(){this.u=null,this.o=null}r.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),Et&&Et(t)},(Ct.prototype=new O).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=Dt(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__e){var t=r.state.__e;r.__v.__k[0]=function t(e,n,r){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,n,r)})),e.__c&&e.__c.__P===n&&(e.__e&&r.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=r)),e}(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},u=!0===e.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(s,s)},Ct.prototype.componentWillUnmount=function(){this.t=[]},Ct.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,n,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=bt({},e)).__c&&(e.__c.__P===r&&(e.__c.__P=n),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,n,r)}))),e}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&g(A,null,t.fallback);return i&&(i.__h=null),[g(A,null,e.__e?null:t.children),i]};var It=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Pt(t){return this.getChildContext=function(){return t.context},t.children}function Rt(t){var e=this,n=t.i;e.componentWillUnmount=function(){V(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),V(g(Pt,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Nt(t,e){return g(Rt,{__v:t,i:e})}(_t.prototype=new O).__e=function(t){var e=this,n=Dt(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),It(e,t,r)):i()};n?n(o):o()}},_t.prototype.render=function(t){this.u=null,this.o=new Map;var e=D(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},_t.prototype.componentDidUpdate=_t.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){It(t,n,e)}))};var Ft="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$t=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ut=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};function zt(t,e,n){return null==e.__k&&(e.textContent=""),V(t,e),"function"==typeof n&&n(),t?t.__c:null}function Vt(t,e,n){return B(t,e),"function"==typeof n&&n(),t?t.__c:null}O.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(O.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var Bt=r.event;function Lt(){}function Wt(){return this.cancelBubble}function Ht(){return this.defaultPrevented}r.event=function(t){return Bt&&(t=Bt(t)),t.persist=Lt,t.isPropagationStopped=Wt,t.isDefaultPrevented=Ht,t.nativeEvent=t};var Yt,Gt={configurable:!0,get:function(){return this.class}},Xt=r.vnode;r.vnode=function(t){var e=t.type,n=t.props,r=n;if("string"==typeof e){for(var i in r={},n){var o=n[i];"value"===i&&"defaultValue"in n&&null==o||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===o?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Ut(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():$t.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),r[i]=o)}"select"==e&&r.multiple&&Array.isArray(r.value)&&(r.value=D(n.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==e&&null!=r.defaultValue&&(r.value=D(n.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),t.props=r}e&&n.class!=n.className&&(Gt.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Gt)),t.$$typeof=Ft,Xt&&Xt(t)};var qt=r.__r;r.__r=function(t){qt&&qt(t),Yt=t.__c};var Jt={ReactCurrentDispatcher:{current:{readContext:function(t){return Yt.__n[t.__c].props.value}}}};function Zt(t){return g.bind(null,t)}function Kt(t){return!!t&&t.$$typeof===Ft}function Qt(t){return Kt(t)?L.apply(null,arguments):t}function te(t){return!!t.__k&&(V(null,t),!0)}function ee(t){return t&&(t.base||1===t.nodeType&&t)||null}var ne=function(t,e){return t(e)},re=function(t,e){return t(e)},ie={useState:nt,useReducer:rt,useEffect:it,useLayoutEffect:ot,useRef:st,useImperativeHandle:at,useMemo:ut,useCallback:ct,useContext:lt,useDebugValue:ft,version:"17.0.2",Children:jt,render:zt,hydrate:Vt,unmountComponentAtNode:te,createPortal:Nt,createElement:g,createContext:W,createFactory:Zt,cloneElement:Qt,createRef:S,Fragment:A,isValidElement:Kt,findDOMNode:ee,Component:O,PureComponent:wt,memo:St,forwardRef:xt,flushSync:re,unstable_batchedUpdates:ne,StrictMode:A,Suspense:Ct,SuspenseList:_t,lazy:Tt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Jt},oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ie,version:"17.0.2",Children:jt,render:zt,hydrate:Vt,unmountComponentAtNode:te,createPortal:Nt,createFactory:Zt,cloneElement:Qt,isValidElement:Kt,findDOMNode:ee,PureComponent:wt,memo:St,forwardRef:xt,flushSync:re,unstable_batchedUpdates:ne,StrictMode:A,Suspense:Ct,SuspenseList:_t,lazy:Tt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Jt,createElement:g,createContext:W,createRef:S,Fragment:A,Component:O,useState:nt,useReducer:rt,useEffect:it,useLayoutEffect:ot,useRef:st,useImperativeHandle:at,useMemo:ut,useCallback:ct,useContext:lt,useDebugValue:ft,useErrorBoundary:function(t){var e=et(H++,10),n=nt();return e.__=t,Y.componentDidCatch||(Y.componentDidCatch=function(t){e.__&&e.__(t),n[1](t)}),[n[0],function(){n[1](void 0)}]}}),se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function ae(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var ue={exports:{}};function ce(){}ce.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},ue.exports=ce,ue.exports.TinyEmitter=ce;var le=ue.exports,fe={exports:{}},he={},de=ae(oe),pe={exports:{}};function ve(){}function ye(){}function me(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=me(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}ye.resetWarningCache=ve,pe.exports=function(){function t(t,e,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ye,resetWarningCache:ve};return n.PropTypes=n,n}();var be=ae(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=me(t))&&(r&&(r+=" "),r+=e);return r}})),ge={},we={};Object.defineProperty(we,"__esModule",{value:!0}),we.findInArray=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},we.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},we.isNum=function(t){return"number"==typeof t&&!isNaN(t)},we.int=function(t){return parseInt(t,10)},we.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))};var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.getPrefix=Oe,Se.browserPrefixToKey=xe,Se.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},Se.default=void 0;var Ae=["Moz","Webkit","O","ms"];function Oe(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var r=null===(t=window.document)||void 0===t||null===(e=t.documentElement)||void 0===e?void 0:e.style;if(!r||n in r)return"";for(var i=0;i<Ae.length;i++)if(xe(n,Ae[i])in r)return Ae[i];return""}function xe(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}var ke=Oe();function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Se.default=ke,Object.defineProperty(ge,"__esModule",{value:!0}),ge.matchesSelector=Pe,ge.matchesSelectorAndParentsTo=function(t,e,n){var r=t;do{if(Pe(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},ge.addEvent=function(t,e,n,r){if(t){var i=Te({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}},ge.removeEvent=function(t,e,n,r){if(t){var i=Te({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}},ge.outerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Me.int)(n.borderTopWidth),e+=(0,Me.int)(n.borderBottomWidth)},ge.outerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Me.int)(n.borderLeftWidth),e+=(0,Me.int)(n.borderRightWidth)},ge.innerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Me.int)(n.paddingTop),e-=(0,Me.int)(n.paddingBottom)},ge.innerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Me.int)(n.paddingLeft),e-=(0,Me.int)(n.paddingRight)},ge.offsetXYFromParent=function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:(t.clientX+e.scrollLeft-r.left)/n,y:(t.clientY+e.scrollTop-r.top)/n}},ge.createCSSTransform=function(t,e){var n=Re(t,e,"px");return _e({},(0,Ee.browserPrefixToKey)("transform",Ee.default),n)},ge.createSVGTransform=function(t,e){return Re(t,e,"")},ge.getTranslation=Re,ge.getTouch=function(t,e){return t.targetTouches&&(0,Me.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,Me.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},ge.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},ge.addUserSelectStyles=function(t){if(t){var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e)),t.body&&Ne(t.body,"react-draggable-transparent-selection")}},ge.removeUserSelectStyles=function(t){if(t)try{if(t.body&&Fe(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(t){}},ge.addClassName=Ne,ge.removeClassName=Fe;var Me=we,Ee=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==je(t)&&"function"!=typeof t)return{default:t};var n=Ce(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(Se);function Ce(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(Ce=function(t){return t?n:e})(t)}function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(Object(n),!0).forEach((function(e){_e(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ie="";function Pe(t,e){return Ie||(Ie=(0,Me.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,Me.isFunction)(t[e])}))),!!(0,Me.isFunction)(t[Ie])&&t[Ie](e)}function Re(t,e,n){var r=t.y,i="translate(".concat(t.x).concat(n,",").concat(r).concat(n,")");if(e){var o="".concat("string"==typeof e.x?e.x:e.x+n),s="".concat("string"==typeof e.y?e.y:e.y+n);i="translate(".concat(o,", ").concat(s,")")+i}return i}function Ne(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function Fe(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r="string"==typeof r?r:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(r);var i=Ve(t);if("string"==typeof r){var o,s=i.ownerDocument,a=s.defaultView;if(!((o="parent"===r?i.parentNode:s.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=o,c=a.getComputedStyle(i),l=a.getComputedStyle(u);r={left:-i.offsetLeft+(0,Ue.int)(l.paddingLeft)+(0,Ue.int)(c.marginLeft),top:-i.offsetTop+(0,Ue.int)(l.paddingTop)+(0,Ue.int)(c.marginTop),right:(0,ze.innerWidth)(u)-(0,ze.outerWidth)(i)-i.offsetLeft+(0,Ue.int)(l.paddingRight)-(0,Ue.int)(c.marginRight),bottom:(0,ze.innerHeight)(u)-(0,ze.outerHeight)(i)-i.offsetTop+(0,Ue.int)(l.paddingBottom)-(0,Ue.int)(c.marginBottom)}}return(0,Ue.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ue.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ue.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ue.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]},$e.snapToGrid=function(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]},$e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},$e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},$e.getControlPosition=function(t,e,n){var r="number"==typeof e?(0,ze.getTouch)(t,e):null;if("number"==typeof e&&!r)return null;var i=Ve(n);return(0,ze.offsetXYFromParent)(r||t,n.props.offsetParent||i.offsetParent||i.ownerDocument.body,n.props.scale)},$e.createCoreData=function(t,e,n){var r=t.state,i=!(0,Ue.isNum)(r.lastX),o=Ve(t);return i?{node:o,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:o,deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}},$e.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}};var Ue=we,ze=ge;function Ve(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Be={},Le={};function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=function(){},Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var He=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==We(t)&&"function"!=typeof t)return{default:t};var n=Qe(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(de),Ye=Ke(pe.exports),Ge=Ke(de),Xe=ge,qe=$e,Je=we,Ze=Ke(Le);function Ke(t){return t&&t.__esModule?t:{default:t}}function Qe(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(Qe=function(t){return t?n:e})(t)}function tn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{!s&&null!=n.return&&n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(t,e)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ln(t);if(e){var i=ln(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return un(this,n)}}function un(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cn(t)}function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hn={start:"touchstart",move:"touchmove",stop:"touchend"},dn={start:"mousedown",move:"mousemove",stop:"mouseup"},pn=dn,vn=function(t){on(n,t);var e=an(n);function n(){var t;nn(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fn(cn(t=e.call.apply(e,[this].concat(i))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),fn(cn(t),"mounted",!1),fn(cn(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(t.props.disabled||!(e.target instanceof r.defaultView.Node)||t.props.handle&&!(0,Xe.matchesSelectorAndParentsTo)(e.target,t.props.handle,n)||t.props.cancel&&(0,Xe.matchesSelectorAndParentsTo)(e.target,t.props.cancel,n))){"touchstart"===e.type&&e.preventDefault();var i=(0,Xe.getTouchIdentifier)(e);t.setState({touchIdentifier:i});var o=(0,qe.getControlPosition)(e,i,cn(t));if(null!=o){var s=o.x,a=o.y,u=(0,qe.createCoreData)(cn(t),s,a);(0,Ze.default)("DraggableCore: handleDragStart: %j",u),(0,Ze.default)("calling",t.props.onStart),!1===t.props.onStart(e,u)||!1===t.mounted||(t.props.enableUserSelectHack&&(0,Xe.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:s,lastY:a}),(0,Xe.addEvent)(r,pn.move,t.handleDrag),(0,Xe.addEvent)(r,pn.stop,t.handleDragStop))}}})),fn(cn(t),"handleDrag",(function(e){var n=(0,qe.getControlPosition)(e,t.state.touchIdentifier,cn(t));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,s=i-t.state.lastY,a=tn((0,qe.snapToGrid)(t.props.grid,o,s),2);if(s=a[1],!(o=a[0])&&!s)return;r=t.state.lastX+o,i=t.state.lastY+s}var u=(0,qe.createCoreData)(cn(t),r,i);if((0,Ze.default)("DraggableCore: handleDrag: %j",u),!1===t.props.onDrag(e,u)||!1===t.mounted){try{t.handleDragStop(new MouseEvent("mouseup"))}catch(e){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(c)}return}t.setState({lastX:r,lastY:i})}})),fn(cn(t),"handleDragStop",(function(e){if(t.state.dragging){var n=(0,qe.getControlPosition)(e,t.state.touchIdentifier,cn(t));if(null!=n){var r=n.x,i=n.y,o=(0,qe.createCoreData)(cn(t),r,i);if(!1===t.props.onStop(e,o)||!1===t.mounted)return!1;var s=t.findDOMNode();s&&t.props.enableUserSelectHack&&(0,Xe.removeUserSelectStyles)(s.ownerDocument),(0,Ze.default)("DraggableCore: handleDragStop: %j",o),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),s&&((0,Ze.default)("DraggableCore: Removing handlers"),(0,Xe.removeEvent)(s.ownerDocument,pn.move,t.handleDrag),(0,Xe.removeEvent)(s.ownerDocument,pn.stop,t.handleDragStop))}}})),fn(cn(t),"onMouseDown",(function(e){return pn=dn,t.handleDragStart(e)})),fn(cn(t),"onMouseUp",(function(e){return pn=dn,t.handleDragStop(e)})),fn(cn(t),"onTouchStart",(function(e){return pn=hn,t.handleDragStart(e)})),fn(cn(t),"onTouchEnd",(function(e){return pn=hn,t.handleDragStop(e)})),t}return function(t,e,n){e&&rn(t.prototype,e),n&&rn(t,n)}(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,Xe.addEvent)(t,hn.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,Xe.removeEvent)(e,dn.move,this.handleDrag),(0,Xe.removeEvent)(e,hn.move,this.handleDrag),(0,Xe.removeEvent)(e,dn.stop,this.handleDragStop),(0,Xe.removeEvent)(e,hn.stop,this.handleDragStop),(0,Xe.removeEvent)(t,hn.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Xe.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:Ge.default.findDOMNode(this)}},{key:"render",value:function(){return He.cloneElement(He.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(He.Component);Be.default=vn,fn(vn,"displayName","DraggableCore"),fn(vn,"propTypes",{allowAnyClick:Ye.default.bool,disabled:Ye.default.bool,enableUserSelectHack:Ye.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ye.default.arrayOf(Ye.default.number),handle:Ye.default.string,cancel:Ye.default.string,nodeRef:Ye.default.object,onStart:Ye.default.func,onDrag:Ye.default.func,onStop:Ye.default.func,onMouseDown:Ye.default.func,scale:Ye.default.number,className:Je.dontSetMe,style:Je.dontSetMe,transform:Je.dontSetMe}),fn(vn,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var n=function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var r=d(n);if(r&&r.has(t))return r.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,r&&r.set(t,i),i}(de),r=h(pe.exports),i=h(de),o=h(be),s=ge,a=$e,u=we,c=h(Be),l=h(Le),f=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function h(t){return t&&t.__esModule?t:{default:t}}function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)!(e.indexOf(n=o[r])>=0)&&(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)!(e.indexOf(n=o[r])>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(i[n]=t[n]))}return i}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{!s&&null!=n.return&&n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){S(r,t);var e=O(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),M(k(n=e.call(this,t)),"onDragStart",(function(t,e){if((0,l.default)("Draggable: onDragStart: %j",e),!1===n.props.onStart(t,(0,a.createDraggableData)(k(n),e)))return!1;n.setState({dragging:!0,dragged:!0})})),M(k(n),"onDrag",(function(t,e){if(!n.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",e);var r=(0,a.createDraggableData)(k(n),e),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,s=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var u=b((0,a.getBoundPosition)(k(n),i.x,i.y),2),c=u[1];i.x=u[0],i.y=c,i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(s-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(t,r))return!1;n.setState(i)})),M(k(n),"onDragStop",(function(t,e){if(!n.state.dragging)return!1;if(!1===n.props.onStop(t,(0,a.createDraggableData)(k(n),e)))return!1;(0,l.default)("Draggable: onDragStop: %j",e);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.y;r.x=i.x,r.y=o}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:m({},t.position),slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(t,e,n){e&&w(t.prototype,e),n&&w(t,n)}(r,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:i.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,r=e.children,i=e.defaultPosition,u=e.defaultClassName,l=e.defaultClassNameDragging,h=e.defaultClassNameDragged,d=e.position,y=e.positionOffset,b=v(e,f),g={},w=null,S=!Boolean(d)||this.state.dragging,A=d||i,O={x:(0,a.canDragX)(this)&&S?this.state.x:A.x,y:(0,a.canDragY)(this)&&S?this.state.y:A.y};this.state.isElementSVG?w=(0,s.createSVGTransform)(O,y):g=(0,s.createCSSTransform)(O,y);var x=(0,o.default)(r.props.className||"",u,(M(t={},l,this.state.dragging),M(t,h,this.state.dragged),t));return n.createElement(c.default,p({},b,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:x,style:m(m({},r.props.style),g),transform:w}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:m({},n)})}}]),r}(n.Component);t.default=E,M(E,"displayName","Draggable"),M(E,"propTypes",m(m({},c.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),M(E,"defaultProps",m(m({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(he);var yn=he.default,mn=he.DraggableCore;fe.exports=yn,fe.exports.default=yn,fe.exports.DraggableCore=mn;var bn=fe.exports,gn=["second","minute","hour","day","week","month","year"];var wn=["秒","分钟","小时","天","周","个月","年"];var Sn={},An=function(t,e){Sn[t]=e},On=function(t){return Sn[t]||Sn.en_US},xn=[60,60,24,7,365/7/12,12];function kn(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function jn(t,e){for(var n=t<0?1:0,r=t=Math.abs(t),i=0;t>=xn[i]&&i<xn.length;i++)t/=xn[i];return(t=Math.floor(t))>(0==(i*=2)?9:1)&&(i+=1),e(t,i,r)[n].replace("%s",t.toString())}function Mn(t,e){return(+(e?kn(e):new Date)-+kn(t))/1e3}var En="timeago-id";function Cn(t){return parseInt(t.getAttribute(En))}var Dn={},Tn=function(t){clearTimeout(t),delete Dn[t]};function _n(t,e,n,r){Tn(Cn(t));var i=r.minInterval,o=Mn(e,r.relativeDate);t.innerText=jn(o,n);var s=setTimeout((function(){_n(t,e,n,r)}),Math.min(1e3*Math.max(function(t){for(var e=1,n=0,r=Math.abs(t);t>=xn[n]&&n<xn.length;n++)t/=xn[n],e*=xn[n];return r=(r%=e)?e-r:e,Math.ceil(r)}(o),i||1),2147483647));Dn[s]=0,function(t,e){t.setAttribute(En,e)}(t,s)}function In(t){t?Tn(Cn(t)):Object.keys(Dn).forEach(Tn)}An("en_US",(function(t,e){if(0===e)return["just now","right now"];var n=gn[Math.floor(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]})),An("zh_CN",(function(t,e){if(0===e)return["刚刚","片刻后"];var n=wn[~~(e/2)];return[t+" "+n+"前",t+" "+n+"后"]}));var Pn,Rn=(Pn=function(t,e){return(Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nn=function(){return(Nn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Fn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dom=null,e}return Rn(e,t),e.prototype.componentDidMount=function(){this.renderTimeAgo()},e.prototype.componentDidUpdate=function(){this.renderTimeAgo()},e.prototype.renderTimeAgo=function(){var t=this.props,e=t.live,n=t.datetime,r=t.locale,i=t.opts;In(this.dom),!1!==e&&(this.dom.setAttribute("datetime",function(t){return""+(t instanceof Date?t.getTime():t)}(n)),function(t,e,n){var r=t.length?t:[t];r.forEach((function(t){_n(t,function(t){return t.getAttribute("datetime")}(t),On(e),n||{})}))}(this.dom,r,i))},e.prototype.componentWillUnmount=function(){In(this.dom)},e.prototype.render=function(){var t=this,e=this.props,n=e.datetime,r=e.locale,i=e.opts,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["datetime","live","locale","opts"]);return g("time",Nn({ref:function(e){t.dom=e}},o),function(t,e,n){return jn(Mn(t,n&&n.relativeDate),On(e))}(n,r,i))},e.defaultProps={live:!0,className:""},e}(wt);var $n,Un=Object.prototype.toString,zn=function(t){var e=Un.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Un.call(t.callee)),n};if(!Object.keys){var Vn=Object.prototype.hasOwnProperty,Bn=Object.prototype.toString,Ln=zn,Wn=Object.prototype.propertyIsEnumerable,Hn=!Wn.call({toString:null},"toString"),Yn=Wn.call((function(){}),"prototype"),Gn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Xn=function(t){var e=t.constructor;return e&&e.prototype===t},qn={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Jn=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!qn["$"+t]&&Vn.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{Xn(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();$n=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===Bn.call(t),r=Ln(t),i=e&&"[object String]"===Bn.call(t),o=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var s=Yn&&n;if(i&&t.length>0&&!Vn.call(t,0))for(var a=0;a<t.length;++a)o.push(String(a));if(r&&t.length>0)for(var u=0;u<t.length;++u)o.push(String(u));else for(var c in t)(!s||"prototype"!==c)&&Vn.call(t,c)&&o.push(String(c));if(Hn)for(var l=function(t){if("undefined"==typeof window||!Jn)return Xn(t);try{return Xn(t)}catch(t){return!1}}(t),f=0;f<Gn.length;++f)(!l||"constructor"!==Gn[f])&&Vn.call(t,Gn[f])&&o.push(Gn[f]);return o}}var Zn=Array.prototype.slice,Kn=zn,Qn=Object.keys,tr=Qn?function(t){return Qn(t)}:$n,er=Object.keys;tr.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return Kn(t)?er(Zn.call(t)):er(t)}):Object.keys=tr,Object.keys||tr};var nr=tr,rr="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ir=Object.prototype.toString,or=Array.prototype.concat,sr=Object.defineProperty,ar=sr&&function(){var t={};try{for(var e in sr(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),ur=function(t,e,n,r){e in t&&(!function(t){return"function"==typeof t&&"[object Function]"===ir.call(t)}(r)||!r())||(ar?sr(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},cr=function(t,e){var n=arguments.length>2?arguments[2]:{},r=nr(e);rr&&(r=or.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)ur(t,r[i],e[r[i]],n[r[i]])};cr.supportsDescriptors=!!ar;var lr,fr=cr,hr={exports:{}},dr="Function.prototype.bind called on incompatible ",pr=Array.prototype.slice,vr=Object.prototype.toString,yr="[object Function]",mr=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||vr.call(e)!==yr)throw new TypeError(dr+e);for(var n,r=pr.call(arguments,1),i=function(){if(this instanceof n){var i=e.apply(this,r.concat(pr.call(arguments)));return Object(i)===i?i:this}return e.apply(t,r.concat(pr.call(arguments)))},o=Math.max(0,e.length-r.length),s=[],a=0;a<o;a++)s.push("$"+a);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var u=function(){};u.prototype=e.prototype,n.prototype=new u,u.prototype=null}return n},br=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0},gr="undefined"!=typeof Symbol&&Symbol,wr=br,Sr=function(){return"function"==typeof gr&&"function"==typeof Symbol&&"symbol"==typeof gr("foo")&&"symbol"==typeof Symbol("bar")&&wr()},Ar=mr.call(Function.call,Object.prototype.hasOwnProperty),Or=SyntaxError,xr=Function,kr=TypeError,jr=function(t){try{return xr('"use strict"; return ('+t+").constructor;")()}catch(t){}},Mr=Object.getOwnPropertyDescriptor,Er=function(){throw new kr},Cr=Mr?function(){try{return Er}catch(t){try{return Mr(arguments,"callee").get}catch(t){return Er}}}():Er,Dr=Sr(),Tr=Object.getPrototypeOf||function(t){return t.__proto__},_r={},Ir="undefined"==typeof Uint8Array?lr:Tr(Uint8Array),Pr={"%AggregateError%":"undefined"==typeof AggregateError?lr:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?lr:ArrayBuffer,"%ArrayIteratorPrototype%":Dr?Tr([][Symbol.iterator]()):lr,"%AsyncFromSyncIteratorPrototype%":lr,"%AsyncFunction%":_r,"%AsyncGenerator%":_r,"%AsyncGeneratorFunction%":_r,"%AsyncIteratorPrototype%":_r,"%Atomics%":"undefined"==typeof Atomics?lr:Atomics,"%BigInt%":"undefined"==typeof BigInt?lr:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?lr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?lr:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?lr:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?lr:FinalizationRegistry,"%Function%":xr,"%GeneratorFunction%":_r,"%Int8Array%":"undefined"==typeof Int8Array?lr:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?lr:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?lr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dr?Tr(Tr([][Symbol.iterator]())):lr,"%JSON%":"object"==typeof JSON?JSON:lr,"%Map%":"undefined"==typeof Map?lr:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Dr?Tr((new Map)[Symbol.iterator]()):lr,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?lr:Promise,"%Proxy%":"undefined"==typeof Proxy?lr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?lr:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?lr:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Dr?Tr((new Set)[Symbol.iterator]()):lr,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?lr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dr?Tr(""[Symbol.iterator]()):lr,"%Symbol%":Dr?Symbol:lr,"%SyntaxError%":Or,"%ThrowTypeError%":Cr,"%TypedArray%":Ir,"%TypeError%":kr,"%Uint8Array%":"undefined"==typeof Uint8Array?lr:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?lr:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?lr:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?lr:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?lr:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?lr:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?lr:WeakSet},Rr=function t(e){var n;if("%AsyncFunction%"===e)n=jr("async function () {}");else if("%GeneratorFunction%"===e)n=jr("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=jr("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=Tr(i.prototype))}return Pr[e]=n,n},Nr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fr=mr,$r=Ar,Ur=Fr.call(Function.call,Array.prototype.concat),zr=Fr.call(Function.apply,Array.prototype.splice),Vr=Fr.call(Function.call,String.prototype.replace),Br=Fr.call(Function.call,String.prototype.slice),Lr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Wr=/\\(\\)?/g,Hr=function(t){var e=Br(t,0,1),n=Br(t,-1);if("%"===e&&"%"!==n)throw new Or("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new Or("invalid intrinsic syntax, expected opening `%`");var r=[];return Vr(t,Lr,(function(t,e,n,i){r[r.length]=n?Vr(i,Wr,"$1"):e||t})),r},Yr=function(t,e){var n,r=t;if($r(Nr,r)&&(r="%"+(n=Nr[r])[0]+"%"),$r(Pr,r)){var i=Pr[r];if(i===_r&&(i=Rr(r)),void 0===i&&!e)throw new kr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Or("intrinsic "+t+" does not exist!")},Gr=function(t,e){if("string"!=typeof t||0===t.length)throw new kr("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new kr('"allowMissing" argument must be a boolean');var n=Hr(t),r=n.length>0?n[0]:"",i=Yr("%"+r+"%",e),o=i.name,s=i.value,a=!1,u=i.alias;u&&(r=u[0],zr(n,Ur([0,1],u)));for(var c=1,l=!0;c<n.length;c+=1){var f=n[c],h=Br(f,0,1),d=Br(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===d||"'"===d||"`"===d)&&h!==d)throw new Or("property names with quotes must have matching quotes");if(("constructor"===f||!l)&&(a=!0),$r(Pr,o="%"+(r+="."+f)+"%"))s=Pr[o];else if(null!=s){if(!(f in s)){if(!e)throw new kr("base intrinsic for "+t+" exists, but the property is not available.");return}if(Mr&&c+1>=n.length){var p=Mr(s,f);s=(l=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:s[f]}else l=$r(s,f),s=s[f];l&&!a&&(Pr[o]=s)}}return s};!function(t){var e=mr,n=Gr,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||e.call(i,r),s=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),u=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch(t){a=null}t.exports=function(t){var n=o(e,i,arguments);return s&&a&&s(n,"length").configurable&&a(n,"length",{value:1+u(0,t.length-(arguments.length-1))}),n};var c=function(){return o(e,r,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c}(hr);var Xr=Gr,qr=hr.exports,Jr=qr(Xr("String.prototype.indexOf")),Zr=function(t,e){var n=Xr(t,!!e);return"function"==typeof n&&Jr(t,".prototype.")>-1?qr(n):n},Kr=Gr("%TypeError%"),Qr=function(t,e){if(null==t)throw new Kr(e||"Cannot call method on "+t);return t},ti=Gr("%Array%"),ei=!ti.isArray&&Zr("Object.prototype.toString"),ni=ti.isArray||function(t){return"[object Array]"===ei(t)},ri=Gr,ii=Zr,oi=ri("%TypeError%"),si=ni,ai=ri("%Reflect.apply%",!0)||ii("%Function.prototype.apply%"),ui=ae(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}})),ci="function"==typeof Map&&Map.prototype,li=Object.getOwnPropertyDescriptor&&ci?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,fi=ci&&li&&"function"==typeof li.get?li.get:null,hi=ci&&Map.prototype.forEach,di="function"==typeof Set&&Set.prototype,pi=Object.getOwnPropertyDescriptor&&di?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vi=di&&pi&&"function"==typeof pi.get?pi.get:null,yi=di&&Set.prototype.forEach,mi="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,bi="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,gi="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,wi=Boolean.prototype.valueOf,Si=Object.prototype.toString,Ai=Function.prototype.toString,Oi=String.prototype.match,xi="function"==typeof BigInt?BigInt.prototype.valueOf:null,ki=Object.getOwnPropertySymbols,ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Mi="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ei=Object.prototype.propertyIsEnumerable,Ci=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),Di=ui.custom,Ti=Di&&Ni(Di)?Di:null,_i="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function Ii(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function Pi(t){return String(t).replace(/"/g,"&quot;")}function Ri(t){return!("[object Array]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}function Ni(t){if(Mi)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!ji)return!1;try{return ji.call(t),!0}catch(t){}return!1}var Fi=Object.prototype.hasOwnProperty||function(t){return t in this};function $i(t,e){return Fi.call(t,e)}function Ui(t){return Si.call(t)}function zi(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Vi(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Vi(t.slice(0,e.maxStringLength),e)+r}return Ii(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Bi),"single",e)}function Bi(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Li(t){return"Object("+t+")"}function Wi(t){return t+" { ? }"}function Hi(t,e,n,r){return t+" ("+e+") {"+(r?Yi(n,r):n.join(", "))+"}"}function Yi(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function Gi(t,e){var n=Ri(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=$i(t,i)?e(t[i],t):""}var o,s="function"==typeof ki?ki(t):[];if(Mi){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)!$i(t,u)||n&&String(Number(u))===u&&u<t.length||Mi&&o["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t)));if("function"==typeof ki)for(var c=0;c<s.length;c++)Ei.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var Xi,qi,Ji=function(t){return"string"==typeof t||"symbol"==typeof t},Zi=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0}(t)},Ki=Gr("%TypeError%"),Qi=function t(e,n,r,i){var o=n||{};if($i(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if($i(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!$i(o,"customInspect")||o.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($i(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Vi(e,o);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var a=void 0===o.depth?5:o.depth;if(void 0===r&&(r=0),r>=a&&a>0&&"object"==typeof e)return Ri(e)?"[Array]":"[Object]";var u=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(o,r);if(void 0===i)i=[];else if(zi(i,e)>=0)return"[Circular]";function c(e,n,s){if(n&&(i=i.slice()).push(n),s){var a={depth:o.depth};return $i(o,"quoteStyle")&&(a.quoteStyle=o.quoteStyle),t(e,a,r+1,i)}return t(e,o,r+1,i)}if("function"==typeof e){var l=function(t){if(t.name)return t.name;var e=Oi.call(Ai.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),f=Gi(e,c);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(f.length>0?" { "+f.join(", ")+" }":"")}if(Ni(e)){var h=Mi?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):ji.call(e);return"object"!=typeof e||Mi?h:Li(h)}if(function(t){return!(!t||"object"!=typeof t)&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}(e)){for(var d="<"+String(e.nodeName).toLowerCase(),p=e.attributes||[],v=0;v<p.length;v++)d+=" "+p[v].name+"="+Ii(Pi(p[v].value),"double",o);return d+=">",e.childNodes&&e.childNodes.length&&(d+="..."),d+"</"+String(e.nodeName).toLowerCase()+">"}if(Ri(e)){if(0===e.length)return"[]";var y=Gi(e,c);return u&&!function(t){for(var e=0;e<t.length;e++)if(zi(t[e],"\n")>=0)return!1;return!0}(y)?"["+Yi(y,u)+"]":"[ "+y.join(", ")+" ]"}if(function(t){return!("[object Error]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}(e)){var m=Gi(e,c);return 0===m.length?"["+String(e)+"]":"{ ["+String(e)+"] "+m.join(", ")+" }"}if("object"==typeof e&&s){if(Ti&&"function"==typeof e[Ti])return e[Ti]();if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!fi||!t||"object"!=typeof t)return!1;try{fi.call(t);try{vi.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var b=[];return hi.call(e,(function(t,n){b.push(c(n,e,!0)+" => "+c(t,e))})),Hi("Map",fi.call(e),b,u)}if(function(t){if(!vi||!t||"object"!=typeof t)return!1;try{vi.call(t);try{fi.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var g=[];return yi.call(e,(function(t){g.push(c(t,e))})),Hi("Set",vi.call(e),g,u)}if(function(t){if(!mi||!t||"object"!=typeof t)return!1;try{mi.call(t,mi);try{bi.call(t,bi)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Wi("WeakMap");if(function(t){if(!bi||!t||"object"!=typeof t)return!1;try{bi.call(t,bi);try{mi.call(t,mi)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Wi("WeakSet");if(function(t){if(!gi||!t||"object"!=typeof t)return!1;try{return gi.call(t),!0}catch(t){}return!1}(e))return Wi("WeakRef");if(function(t){return!("[object Number]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}(e))return Li(c(Number(e)));if(function(t){if(!t||"object"!=typeof t||!xi)return!1;try{return xi.call(t),!0}catch(t){}return!1}(e))return Li(c(xi.call(e)));if(function(t){return!("[object Boolean]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}(e))return Li(wi.call(e));if(function(t){return!("[object String]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}(e))return Li(c(String(e)));if(!function(t){return!("[object Date]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}(e)&&!function(t){return!("[object RegExp]"!==Ui(t)||_i&&"object"==typeof t&&_i in t)}(e)){var w=Gi(e,c),S=Ci?Ci(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",O=!S&&_i&&Object(e)===e&&_i in e?Ui(e).slice(8,-1):A?"Object":"",x=(S||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(O||A?"["+[].concat(O||[],A||[]).join(": ")+"] ":"");return 0===w.length?x+"{}":u?x+"{"+Yi(w,u)+"}":x+"{ "+w.join(", ")+" }"}return String(e)},to=Ji,eo=Zi,no=function(t,e){if("Object"!==eo(t))throw new Ki("Assertion failed: Type(O) is not Object");if(!to(e))throw new Ki("Assertion failed: IsPropertyKey(P) is not true, got "+Qi(e));return t[e]},ro=Gr("%TypeError%"),io=Ji,oo=Zi,so=Function.prototype.toString,ao="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof ao&&"function"==typeof Object.defineProperty)try{Xi=Object.defineProperty({},"length",{get:function(){throw qi}}),qi={},ao((function(){throw 42}),null,Xi)}catch(Pn){Pn!==qi&&(ao=null)}else ao=null;var uo=/^\s*class\b/,co=function(t){try{var e=so.call(t);return uo.test(e)}catch(t){return!1}},lo=Object.prototype.toString,fo="function"==typeof Symbol&&!!Symbol.toStringTag,ho="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{},po=ao?function(t){if(t===ho)return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{ao(t,null,Xi)}catch(t){if(t!==qi)return!1}return!co(t)}:function(t){if(t===ho)return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(fo)return function(t){try{return!co(t)&&(so.call(t),!0)}catch(t){return!1}}(t);if(co(t))return!1;var e=lo.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e},vo=po,yo=Gr,mo=yo("%Math%"),bo=yo("%Number%").MAX_SAFE_INTEGER||mo.pow(2,53)-1,go=Gr("%Math.abs%"),wo=Math.floor,So=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Ao=Object.prototype.toString,Oo=So,xo=po,ko=function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===Ao.call(t)?String:Number)===String||e===Number){var n,r,i=e===String?["toString","valueOf"]:["valueOf","toString"];for(r=0;r<i.length;++r)if(xo(t[i[r]])&&(n=t[i[r]](),Oo(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")},jo=Number.isNaN||function(t){return t!=t},Mo=function(t){var e=function(t){return Oo(t)?t:arguments.length>1?ko(t,arguments[1]):ko(t)}(t,Number);if("string"!=typeof e)return+e;var n=e.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(n)?NaN:+n},Eo=Number.isNaN||function(t){return t!=t},Co=Number.isFinite||function(t){return"number"==typeof t&&!jo(t)&&t!==1/0&&t!==-1/0},Do=Gr("RegExp.prototype.test"),To=hr.exports,_o=br,Io=function(){return _o()&&!!Symbol.toStringTag},Po=Date.prototype.getDay,Ro=Object.prototype.toString,No=Io(),Fo={exports:{}},$o=Object.prototype.toString;if(Sr()){var Uo=Symbol.prototype.toString,zo=/^Symbol\(.*\)$/;Fo.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==$o.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&zo.test(Uo.call(t))}(t)}catch(t){return!1}}}else Fo.exports=function(){return!1};var Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,Bo=So,Lo=po,Wo=function(t){return"object"==typeof t&&null!==t&&(No?function(t){try{return Po.call(t),!0}catch(t){return!1}}(t):"[object Date]"===Ro.call(t))},Ho=Fo.exports,Yo=function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,r,i,o="string"===e?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<o.length;++i)if(Lo(n=t[o[i]])&&(r=n.call(t),Bo(r)))return r;throw new TypeError("No default value")},Go=function(t,e){var n=t[e];if(null!=n){if(!Lo(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}},Xo=function(t){if(Bo(t))return t;var e,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),Vo&&(Symbol.toPrimitive?e=Go(t,Symbol.toPrimitive):Ho(t)&&(e=Symbol.prototype.valueOf)),void 0!==e){var r=e.call(t,n);if(Bo(r))return r;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(Wo(t)||Ho(t))&&(n="string"),Yo(t,"default"===n?"number":n)},qo=Gr,Jo=qo("%TypeError%"),Zo=qo("%Number%"),Ko=qo("%RegExp%"),Qo=qo("%parseInt%"),ts=Zr,es=function(t){return To(Do,t)},ns=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},rs=ts("String.prototype.slice"),is=es(/^0b[01]+$/i),os=es(/^0o[0-7]+$/i),ss=es(/^[-+]0x[0-9a-f]+$/i),as=es(new Ko("["+["","​","￾"].join("")+"]","g")),us=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),cs=new RegExp("(^["+us+"]+)|(["+us+"]+$)","g"),ls=ts("String.prototype.replace"),fs=function(t){return arguments.length>1?Xo(t,arguments[1]):Xo(t)},hs=function(t){var e=Mo(t);return Eo(e)?0:0!==e&&Co(e)?function(t){return t>=0?1:-1}(e)*function(t){return wo(t)}(function(t){return go(t)}(e)):e},ds=function t(e){var n=ns(e)?e:fs(e,Zo);if("symbol"==typeof n)throw new Jo("Cannot convert a Symbol value to a number");if("bigint"==typeof n)throw new Jo("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof n){if(is(n))return t(Qo(rs(n,2),2));if(os(n))return t(Qo(rs(n,2),8));if(as(n)||ss(n))return NaN;var r=function(t){return ls(t,cs,"")}(n);if(r!==n)return t(r)}return Zo(n)},ps=bo,vs=Gr("%TypeError%"),ys=no,ms=function(t){var e=function(t){var e=ds(t);return 0!==e&&(e=hs(e)),0===e?0:e}(t);return e<=0?0:e>ps?ps:e},bs=Zi,gs=Gr("%Object%"),ws=Qr,Ss=Gr,As=Ss("%String%"),Os=Ss("%TypeError%"),xs=function(t){if("symbol"==typeof t)throw new Os("Cannot convert a Symbol value to a string");return As(t)},ks=String.prototype.valueOf,js=Object.prototype.toString,Ms=Io(),Es=Zr,Cs=Gr("%TypeError%"),Ds=function(t,e){var n=arguments.length>2?arguments[2]:[];if(!si(n))throw new oi("Assertion failed: optional `argumentsList`, if provided, must be a List");return ai(t,e,n)},Ts=no,_s=function(t,e){if("Object"!==oo(t))throw new ro("Assertion failed: `O` must be an Object");if(!io(e))throw new ro("Assertion failed: `P` must be a Property Key");return e in t},Is=vo,Ps=function(t){if("Object"!==bs(t))throw new vs("Assertion failed: `obj` must be an Object");return ms(ys(t,"length"))},Rs=function(t){return ws(t),gs(t)},Ns=xs,Fs=function(t){return"string"==typeof t||"object"==typeof t&&(Ms?function(t){try{return ks.call(t),!0}catch(t){return!1}}(t):"[object String]"===js.call(t))},$s=Es("String.prototype.split"),Us=Object("a"),zs="a"!==Us[0]||!(0 in Us),Vs=function(t){var e,n=Rs(this),r=zs&&Fs(this)?$s(this,""):n,i=Ps(r);if(!Is(t))throw new Cs("Array.prototype.forEach callback must be a function");arguments.length>1&&(e=arguments[1]);for(var o=0;o<i;){var s=Ns(o);if(_s(r,s)){var a=Ts(r,s);Ds(t,e,[a,o,r])}o+=1}},Bs=Vs,Ls=function(){var t=Array.prototype.forEach;return function(t){var e=!0,n=!0,r=!1;if("function"==typeof t){try{t.call("f",(function(t,n,r){"object"!=typeof r&&(e=!1)})),t.call([null],(function(){n="string"==typeof this}),"x")}catch(t){r=!0}return!r&&e&&n}return!1}(t)?t:Bs},Ws=fr,Hs=Ls,Ys=fr,Gs=hr.exports,Xs=Zr,qs=Qr,Js=Vs,Zs=Ls,Ks=Zs(),Qs=function(){var t=Hs();return Ws(Array.prototype,{forEach:t},{forEach:function(){return Array.prototype.forEach!==t}}),t},ta=Xs("Array.prototype.slice"),ea=Gs.apply(Ks),na=function(t){return qs(t),ea(t,ta(arguments,1))};Ys(na,{getPolyfill:Zs,implementation:Js,shim:Qs});var ra=na,ia=Qr,oa=Zr,sa=oa("Object.prototype.propertyIsEnumerable"),aa=oa("Array.prototype.push"),ua=function(t){var e=ia(t),n=[];for(var r in e)sa(e,r)&&aa(n,[r,e[r]]);return n},ca=ua,la=function(){return"function"==typeof Object.entries?Object.entries:ca},fa=la,ha=fr,da=fr,pa=ua,va=la,ya=(0,hr.exports)(va(),Object);da(ya,{getPolyfill:va,implementation:pa,shim:function(){var t=fa();return ha(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}});var ma=ya,ba=Qr,ga=xs,wa=Zr("String.prototype.replace"),Sa=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Aa=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Oa=function(){var t=ga(ba(this));return wa(wa(t,Sa,""),Aa,"")},xa=Oa,ka=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:xa},ja=fr,Ma=ka,Ea=fr,Ca=Oa,Da=ka,Ta=(0,hr.exports)(Da());Ea(Ta,{getPolyfill:Da,implementation:Ca,shim:function(){var t=Ma();return ja(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}});var _a=ra,Ia=ma,Pa=Ar,Ra=Ta,Na=function(){},Fa=String.prototype.replace,$a=String.prototype.split,Ua="||||",za=function(t){var e=t%100,n=e%10;return 11!==e&&1===n?0:2<=n&&n<=4&&!(e>=12&&e<=14)?1:2},Va={pluralTypes:{arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:za,chinese:function(){return 0},croatian:za,french:function(t){return t>=2?1:0},german:function(t){return 1!==t?1:0},russian:za,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function Ba(t,e){var n=function(t){var e={};return _a(Ia(t),(function(t){var n=t[0];_a(t[1],(function(t){e[t]=n}))})),e}(t.pluralTypeToLanguages);return n[e]||n[$a.call(e,/-/,1)[0]]||n.en}function La(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Wa=function(){var t={};return function(e,n){var r=t[n];return r&&!e.pluralTypes[r]&&(t[n]=r=null),r||(r=Ba(e,n))&&(t[n]=r),r}}(),Ha=/%\{(.*?)\}/g;function Ya(t,e,n,r,i){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var o=t,s=r||Ha,a="number"==typeof e?{smart_count:e}:e;if(null!=a.smart_count&&t){var u=i||Va,c=$a.call(t,Ua),l=function(t,e,n){return t.pluralTypes[e](n)}(u,Wa(u,n||"en"),a.smart_count);o=Ra(c[l]||c[0])}return Fa.call(o,s,(function(t,e){return Pa(a,e)&&null!=a[e]?a[e]:t}))}function Ga(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:e.allowMissing?Ya:null,this.warn=e.warn||Na,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if(e===Ua||n===Ua)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(La(e)+"(.*?)"+La(n),"g")}(e.interpolation),this.pluralRules=e.pluralRules||Va}Ga.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},Ga.prototype.extend=function(t,e){_a(Ia(t||{}),(function(t){var n=t[0],r=t[1],i=e?e+"."+n:n;"object"==typeof r?this.extend(r,i):this.phrases[i]=r}),this)},Ga.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:_a(Ia(t||{}),(function(t){var n=t[0],r=t[1],i=e?e+"."+n:n;"object"==typeof r?this.unset(r,i):delete this.phrases[i]}),this)},Ga.prototype.clear=function(){this.phrases={}},Ga.prototype.replace=function(t){this.clear(),this.extend(t)},Ga.prototype.t=function(t,e){var n,r,i=null==e?{}:e;return"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof i._?n=i._:this.onMissingKey?r=(0,this.onMissingKey)(t,i,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof n&&(r=Ya(n,i,this.currentLocale,this.tokenRegex,this.pluralRules)),r},Ga.prototype.has=function(t){return Pa(this.phrases,t)},Ga.transformPhrase=function(t,e,n){return Ya(t,e,n)};var Xa=Ga,qa={};Object.defineProperty(qa,"__esModule",{value:!0});var Ja=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]];var Za=qa.default=function(t,e){if(0===e)return["منذ لحظات","بعد لحظات"];var n=function(t,e){return e<3?Ja[t][e-1]:e>=3&&e<=10?Ja[t][2]:Ja[t][3]}(Math.floor(e/2),t);return["منذ "+n,"بعد "+n]},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});var Qa=Ka.default=function(t,e){var n=0;return(1==e||3==e||5==e||7==e||9==e||11==e||13==e)&&t>=5&&(n=1),[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][e][n]},tu={};Object.defineProperty(tu,"__esModule",{value:!0});var eu=tu.default=function(t,e){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][e]},nu={};Object.defineProperty(nu,"__esModule",{value:!0});var ru=nu.default=function(t,e){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][e]},iu={};Object.defineProperty(iu,"__esModule",{value:!0});var ou=iu.default=function(t,e){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][e]},su={};Object.defineProperty(su,"__esModule",{value:!0});var au=su.default=function(t,e){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][e]},uu={};Object.defineProperty(uu,"__esModule",{value:!0});var cu=uu.default=function(t,e){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][e]},lu={};Object.defineProperty(lu,"__esModule",{value:!0});var fu=lu.default=function(t,e){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][e]},hu={};Object.defineProperty(hu,"__esModule",{value:!0});var du=hu.default=function(t,e){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][e]},pu={};Object.defineProperty(pu,"__esModule",{value:!0});var vu=pu.default=function(t,e){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][e]},yu={};Object.defineProperty(yu,"__esModule",{value:!0});var mu=yu.default=function(t,e){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][e]},bu={};Object.defineProperty(bu,"__esModule",{value:!0});var gu=bu.default=function(t,e){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][e]},wu={};Object.defineProperty(wu,"__esModule",{value:!0});var Su=wu.default=function(t,e){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][e]},Au={};Object.defineProperty(Au,"__esModule",{value:!0});var Ou=Au.default=function(t,e){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][e]},xu={};Object.defineProperty(xu,"__esModule",{value:!0});var ku=xu.default=function(t,e){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][e]},ju={};Object.defineProperty(ju,"__esModule",{value:!0});var Mu=ju.default=function(t,e){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][e]};const Eu={ar:{"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},cs:{"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},de:{"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},el:{"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},es:{"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},fi:{"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},fr:{"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},gl:{"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},hi:{"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},it:{"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},ko:{"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},nl:{"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},pt:{"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},sv:{"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},th:{"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},tr:{"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},ur:{"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"}},Cu=new Xa({allowMissing:!0});Cu.init=(t,e)=>{Cu.clear(),t&&(Cu.locale(t),Cu.extend(Eu[t])),e&&Cu.extend(e)},An("ar",Za),An("cs",Qa),An("de",eu),An("el",ru),An("es",ou),An("fi",au),An("fr",cu),An("gl",fu),An("hi",du),An("it",vu),An("ko",mu),An("nl",gu),An("pt",Su),An("sv",Ou),An("th",ku),An("tr",Mu),Cu.registerMessages=(t,e)=>{Eu[t]=Eu[t]?l(l({},Eu[t]),e):e};var Du=Cu,Tu=t=>{const e=st();return function(t,e){const n=()=>{t.current&&!t.current.contains(event.target)&&e()};it((()=>(document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n))))}(e,(()=>t.onClickOutside())),g("ul",{ref:e,className:"r6o-comment-dropdown-menu"},g("li",{onClick:t.onEdit},Du.t("Edit")),g("li",{onClick:t.onDelete},Du.t("Delete")))},_u={},Iu={},Pu={exports:{}};
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/!function(t,e){!function(t,e){var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(n){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function s(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e=null,n=null,r=null,s=function(){t.clientWidth!==n&&f()},a=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",f,!1),t.removeEventListener("keyup",f,!1),t.removeEventListener("autosize:destroy",a,!1),t.removeEventListener("autosize:update",f,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",a,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",f,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",f,!1),t.addEventListener("autosize:update",f,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:a,update:f}),"vertical"===(u=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===u.resize&&(t.style.resize="horizontal"),e="content-box"===u.boxSizing?-(parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)):parseFloat(u.borderTopWidth)+parseFloat(u.borderBottomWidth),isNaN(e)&&(e=0),f()}var u;function c(e){var n=t.style.width;t.style.width="0px",t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var r=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+e+"px",n=t.clientWidth,r.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function f(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(i<e?"hidden"===n.overflowY&&(c("scroll"),l(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),l(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),r!==i){r=i;var s=o("autosize:resized");try{t.dispatchEvent(s)}catch(t){}}}}function a(t){var e=i.get(t);e&&e.destroy()}function u(t){var e=i.get(t);e&&e.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(t){return t}).destroy=function(t){return t},c.update=function(t){return t}):((c=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return s(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],a),t},c.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],u),t}),e.default=c,t.exports=e.default}(t,e)}(Pu,Pu.exports);var Ru=function(t,e,n){return((n=window.getComputedStyle)?n(t):t.currentStyle)[e.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()}))]};var Nu=function(t){var e=Ru(t,"line-height"),n=parseFloat(e,10);if(e===n+""){var r=t.style.lineHeight;t.style.lineHeight=e+"em",e=Ru(t,"line-height"),n=parseFloat(e,10),r?t.style.lineHeight=r:delete t.style.lineHeight}if(-1!==e.indexOf("pt")?(n*=4,n/=3):-1!==e.indexOf("mm")?(n*=96,n/=25.4):-1!==e.indexOf("cm")?(n*=96,n/=2.54):-1!==e.indexOf("in")?n*=96:-1!==e.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===e){var i=t.nodeName,o=document.createElement(i);o.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&o.setAttribute("rows","1");var s=Ru(t,"font-size");o.style.fontSize=s,o.style.padding="0px",o.style.border="0px";var a=document.body;a.appendChild(o),n=o.offsetHeight,a.removeChild(o)}return n},Fu=se&&se.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$u=se&&se.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Uu=se&&se.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};Iu.__esModule=!0;var zu=de,Vu=pe.exports,Bu=Pu.exports,Lu=Nu,Wu="autosize:resized",Hu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={lineHeight:null},e.textarea=null,e.onResize=function(t){e.props.onResize&&e.props.onResize(t)},e.updateLineHeight=function(){e.textarea&&e.setState({lineHeight:Lu(e.textarea)})},e.onChange=function(t){var n=e.props.onChange;e.currentValue=t.currentTarget.value,n&&n(t)},e}return Fu(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.maxRows,r=e.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return t.textarea&&Bu(t.textarea)})):this.textarea&&Bu(this.textarea),this.textarea&&this.textarea.addEventListener(Wu,this.onResize)},e.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Wu,this.onResize),Bu.destroy(this.textarea))},e.prototype.render=function(){var t=this,e=this.props,n=e.maxRows,r=e.style,i=e.children,o=Uu(e,["onResize","maxRows","onChange","style","innerRef","children"]),s=this.state.lineHeight,a=n&&s?s*n:null;return zu.createElement("textarea",$u({},o,{onChange:this.onChange,style:a?$u({},r,{maxHeight:a}):r,ref:function(e){t.textarea=e,"function"==typeof t.props.innerRef?t.props.innerRef(e):t.props.innerRef&&(t.props.innerRef.current=e)}}),i)},e.prototype.componentDidUpdate=function(){this.textarea&&Bu.update(this.textarea)},e.defaultProps={rows:1,async:!1},e.propTypes={rows:Vu.number,maxRows:Vu.number,onResize:Vu.func,innerRef:Vu.any,async:Vu.bool},e}(zu.Component);Iu.TextareaAutosize=zu.forwardRef((function(t,e){return zu.createElement(Hu,$u({},t,{innerRef:e}))})),function(t){t.__esModule=!0,t.default=Iu.TextareaAutosize}(_u);var Yu=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(_u);class Gu extends O{constructor(t){super(t),d(this,"onKeyDown",(t=>{13===t.which&&t.ctrlKey&&this.props.onSaveAndClose()})),this.element={current:null}}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return g(Yu,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||Du.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function Xu(){return(Xu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var qu=function(){function t(t){var e=this;this._insertTag=function(t){e.container.insertBefore(t,0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Ju="-ms-",Zu="-moz-",Ku="-webkit-",Qu="comm",tc="rule",ec="decl",nc=Math.abs,rc=String.fromCharCode;function ic(t){return t.trim()}function oc(t,e,n){return t.replace(e,n)}function sc(t,e){return t.indexOf(e)}function ac(t,e){return 0|t.charCodeAt(e)}function uc(t,e,n){return t.slice(e,n)}function cc(t){return t.length}function lc(t){return t.length}function fc(t,e){return e.push(t),t}var hc=1,dc=1,pc=0,vc=0,yc=0,mc="";function bc(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:hc,column:dc,length:s,return:""}}function gc(t,e,n){return bc(t,e.root,e.parent,n,e.props,e.children,0)}function wc(){return yc=vc<pc?ac(mc,vc++):0,dc++,10===yc&&(dc=1,hc++),yc}function Sc(){return ac(mc,vc)}function Ac(){return vc}function Oc(t,e){return uc(mc,t,e)}function xc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kc(t){return hc=dc=1,pc=cc(mc=t),vc=0,[]}function jc(t){return mc="",t}function Mc(t){return ic(Oc(vc-1,Dc(91===t?t+2:40===t?t+1:t)))}function Ec(t){for(;(yc=Sc())&&yc<33;)wc();return xc(t)>2||xc(yc)>3?"":" "}function Cc(t,e){for(;--e&&wc()&&!(yc<48||yc>102||yc>57&&yc<65||yc>70&&yc<97););return Oc(t,Ac()+(e<6&&32==Sc()&&32==wc()))}function Dc(t){for(;wc();)switch(yc){case t:return vc;case 34:case 39:return Dc(34===t||39===t?t:yc);case 40:41===t&&Dc(t);break;case 92:wc()}return vc}function Tc(t,e){for(;wc()&&t+yc!==57&&(t+yc!==84||47!==Sc()););return"/*"+Oc(e,vc-1)+"*"+rc(47===t?t:wc())}function _c(t){for(;!xc(Sc());)wc();return Oc(t,vc)}function Ic(t){return jc(Pc("",null,null,null,[""],t=kc(t),0,[0],t))}function Pc(t,e,n,r,i,o,s,a,u){for(var c=0,l=0,f=s,h=0,d=0,p=0,v=1,y=1,m=1,b=0,g="",w=i,S=o,A=r,O=g;y;)switch(p=b,b=wc()){case 34:case 39:case 91:case 40:O+=Mc(b);break;case 9:case 10:case 13:case 32:O+=Ec(p);break;case 92:O+=Cc(Ac()-1,7);continue;case 47:switch(Sc()){case 42:case 47:fc(Nc(Tc(wc(),Ac()),e,n),u);break;default:O+="/"}break;case 123*v:a[c++]=cc(O)*m;case 125*v:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+l:d>0&&cc(O)-f&&fc(d>32?Fc(O+";",r,n,f-1):Fc(oc(O," ","")+";",r,n,f-2),u);break;case 59:O+=";";default:if(fc(A=Rc(O,e,n,c,l,i,a,g,w=[],S=[],f),o),123===b)if(0===l)Pc(O,e,A,A,w,o,f,a,S);else switch(h){case 100:case 109:case 115:Pc(t,A,A,r&&fc(Rc(t,A,A,0,0,i,a,g,i,w=[],f),S),i,S,f,a,r?w:S);break;default:Pc(O,A,A,A,[""],S,f,a,S)}}c=l=d=0,v=m=1,g=O="",f=s;break;case 58:f=1+cc(O),d=p;default:if(v<1)if(123==b)--v;else if(125==b&&0==v++&&125==(yc=vc>0?ac(mc,--vc):0,dc--,10===yc&&(dc=1,hc--),yc))continue;switch(O+=rc(b),b*v){case 38:m=l>0?1:(O+="\f",-1);break;case 44:a[c++]=(cc(O)-1)*m,m=1;break;case 64:45===Sc()&&(O+=Mc(wc())),h=Sc(),l=cc(g=O+=_c(Ac())),b++;break;case 45:45===p&&2==cc(O)&&(v=0)}}return o}function Rc(t,e,n,r,i,o,s,a,u,c,l){for(var f=i-1,h=0===i?o:[""],d=lc(h),p=0,v=0,y=0;p<r;++p)for(var m=0,b=uc(t,f+1,f=nc(v=s[p])),g=t;m<d;++m)(g=ic(v>0?h[m]+" "+b:oc(b,/&\f/g,h[m])))&&(u[y++]=g);return bc(t,e,n,0===i?tc:a,u,c,l)}function Nc(t,e,n){return bc(t,e,n,Qu,rc(yc),uc(t,2,-2),0)}function Fc(t,e,n,r){return bc(t,e,n,ec,uc(t,0,r),uc(t,r+1,-1),r)}function $c(t,e){switch(function(t,e){return(((e<<2^ac(t,0))<<2^ac(t,1))<<2^ac(t,2))<<2^ac(t,3)}(t,e)){case 5103:return Ku+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ku+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ku+t+Zu+t+Ju+t+t;case 6828:case 4268:return Ku+t+Ju+t+t;case 6165:return Ku+t+Ju+"flex-"+t+t;case 5187:return Ku+t+oc(t,/(\w+).+(:[^]+)/,Ku+"box-$1$2"+Ju+"flex-$1$2")+t;case 5443:return Ku+t+Ju+"flex-item-"+oc(t,/flex-|-self/,"")+t;case 4675:return Ku+t+Ju+"flex-line-pack"+oc(t,/align-content|flex-|-self/,"")+t;case 5548:return Ku+t+Ju+oc(t,"shrink","negative")+t;case 5292:return Ku+t+Ju+oc(t,"basis","preferred-size")+t;case 6060:return Ku+"box-"+oc(t,"-grow","")+Ku+t+Ju+oc(t,"grow","positive")+t;case 4554:return Ku+oc(t,/([^-])(transform)/g,"$1"+Ku+"$2")+t;case 6187:return oc(oc(oc(t,/(zoom-|grab)/,Ku+"$1"),/(image-set)/,Ku+"$1"),t,"")+t;case 5495:case 3959:return oc(t,/(image-set\([^]*)/,Ku+"$1$`$1");case 4968:return oc(oc(t,/(.+:)(flex-)?(.*)/,Ku+"box-pack:$3"+Ju+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ku+t+t;case 4095:case 3583:case 4068:case 2532:return oc(t,/(.+)-inline(.+)/,Ku+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cc(t)-1-e>6)switch(ac(t,e+1)){case 109:if(45!==ac(t,e+4))break;case 102:return oc(t,/(.+:)(.+)-([^]+)/,"$1"+Ku+"$2-$3$1"+Zu+(108==ac(t,e+3)?"$3":"$2-$3"))+t;case 115:return~sc(t,"stretch")?$c(oc(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==ac(t,e+1))break;case 6444:switch(ac(t,cc(t)-3-(~sc(t,"!important")&&10))){case 107:return oc(t,":",":"+Ku)+t;case 101:return oc(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ku+(45===ac(t,14)?"inline-":"")+"box$3$1"+Ku+"$2$3$1"+Ju+"$2box$3")+t}break;case 5936:switch(ac(t,e+11)){case 114:return Ku+t+Ju+oc(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ku+t+Ju+oc(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ku+t+Ju+oc(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ku+t+Ju+t+t}return t}function Uc(t,e){for(var n="",r=lc(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function zc(t,e,n,r){switch(t.type){case"@import":case ec:return t.return=t.return||t.value;case Qu:return"";case tc:t.value=t.props.join(",")}return cc(n=Uc(t.children,r))?t.return=t.value+"{"+n+"}":""}function Vc(t){return function(e){e.root||(e=e.return)&&t(e)}}var Bc=function(t,e,n){for(var r=0,i=0;r=i,i=Sc(),38===r&&12===i&&(e[n]=1),!xc(i);)wc();return Oc(t,vc)},Lc=function(t,e){return jc(function(t,e){var n=-1,r=44;do{switch(xc(r)){case 0:38===r&&12===Sc()&&(e[n]=1),t[n]+=Bc(vc-1,e,n);break;case 2:t[n]+=Mc(r);break;case 4:if(44===r){t[++n]=58===Sc()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=rc(r)}}while(r=wc());return t}(kc(t),e))},Wc=new WeakMap,Hc=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Wc.get(n))&&!r){Wc.set(t,!0);for(var i=[],o=Lc(e,i),s=n.props,a=0,u=0;a<o.length;a++)for(var c=0;c<s.length;c++,u++)t.props[u]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Yc=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},Gc=[function(t,e,n,r){if(!t.return)switch(t.type){case ec:t.return=$c(t.value,t.length);break;case"@keyframes":return Uc([gc(oc(t.value,"@","@"+Ku),t,"")],r);case tc:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uc([gc(oc(e,/:(read-\w+)/,":-moz-$1"),t,"")],r);case"::placeholder":return Uc([gc(oc(e,/:(plac\w+)/,":"+Ku+"input-$1"),t,""),gc(oc(e,/:(plac\w+)/,":-moz-$1"),t,""),gc(oc(e,/:(plac\w+)/,Ju+"input-$1"),t,"")],r)}return""}))}}];function Xc(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var qc=function(t,e,n){var r=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};function Jc(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}var Zc={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kc=/[A-Z]|^ms/g,Qc=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tl=function(t){return 45===t.charCodeAt(1)},el=function(t){return null!=t&&"boolean"!=typeof t},nl=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return tl(t)?t:t.replace(Kc,"-$&").toLowerCase()})),rl=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Qc,(function(t,e,n){return ol={name:e,styles:n,next:ol},e}))}return 1===Zc[t]||tl(t)||"number"!=typeof e||0===e?e:e+"px"};function il(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ol={name:n.name,styles:n.styles,next:ol},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ol={name:r.name,styles:r.styles,next:ol},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=il(t,e,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":el(s)&&(r+=nl(o)+":"+rl(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=il(t,e,s);switch(o){case"animation":case"animationName":r+=nl(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)el(s[u])&&(r+=nl(o)+":"+rl(o,s[u])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=ol,o=n(t);return ol=i,il(t,e,o)}}if(null==e)return n;var s=e[n];return void 0!==s?s:n}var ol,sl=/label:\s*([^\s;\n{]+)\s*(;|$)/g,al=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";ol=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=il(n,e,o)):i+=o[0];for(var s=1;s<t.length;s++)i+=il(n,e,t[s]),r&&(i+=o[s]);sl.lastIndex=0;for(var a,u="";null!==(a=sl.exec(i));)u+="-"+a[1];return{name:Jc(i)+u,styles:i,next:ol}},ul={}.hasOwnProperty,cl=W("undefined"!=typeof HTMLElement?function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,i=t.stylisPlugins||Gc,o={},s=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)o[e[n]]=!0;s.push(t)}));var a,u,c=[Hc,Yc],l=[zc,Vc((function(t){u.insert(t)}))],f=function(t){var e=lc(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}(c.concat(i,l));a=function(t,e,n,r){u=n,function(t){Uc(Ic(t),f)}(t?t+"{"+e.styles+"}":e.styles),r&&(h.inserted[e.name]=!0)};var h={key:e,sheet:new qu({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h}({key:"css"}):null),ll=function(t){return xt((function(e,n){var r=lt(cl);return t(e,r,n)}))},fl=W({}),hl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dl=function(t,e){var n={};for(var r in e)ul.call(e,r)&&(n[r]=e[r]);return n[hl]=t,n},pl=function(){return null},vl=ll((function(t,e,n){var r=t.css;"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var i=t[hl],o=[r],s="";"string"==typeof t.className?s=Xc(e.registered,o,t.className):null!=t.className&&(s=t.className+" ");var a=al(o,void 0,lt(fl));qc(e,a,"string"==typeof i),s+=e.key+"-"+a.name;var u={};for(var c in t)ul.call(t,c)&&"css"!==c&&c!==hl&&(u[c]=t[c]);u.ref=n,u.className=s;var l=g(i,u),f=g(pl,null);return g(A,null,f,l)})),yl=function(t,e){var n=arguments;if(null==e||!ul.call(e,"css"))return g.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=vl,i[1]=dl(t,e);for(var o=2;o<r;o++)i[o]=n[o];return g.apply(null,i)};function ml(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return al(e)}var bl=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=t(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i};function gl(t,e,n){var r=[],i=Xc(t,r,n);return r.length<2?n:i+e(r)}var wl=function(){return null},Sl=ll((function(t,e){var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=al(n,e.registered);return qc(e,i,!1),e.key+"-"+i.name},r={css:n,cx:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return gl(e.registered,n,bl(r))},theme:lt(fl)},i=t.children(r),o=g(wl,null);return g(A,null,o,i)}));function Al(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)!(e.indexOf(n=o[r])>=0)&&(i[n]=t[n]);return i}function Ol(t,e){if(null==t)return{};var n,r,i=Al(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)!(e.indexOf(n=o[r])>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(i[n]=t[n]))}return i}function xl(t){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var kl={};Object.defineProperty(kl,"__esModule",{value:!0});var jl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),El=de,Cl=Tl(El),Dl=Tl(pe.exports);function Tl(t){return t&&t.__esModule?t:{default:t}}var _l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Il=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Pl=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},Rl=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),Nl=function(){return Rl?"_"+Math.random().toString(36).substr(2,12):void 0},Fl=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.inputRef=function(t){n.input=t,"function"==typeof n.props.inputRef&&n.props.inputRef(t)},n.placeHolderSizerRef=function(t){n.placeHolderSizer=t},n.sizerRef=function(t){n.sizer=t},n.state={inputWidth:t.minWidth,inputId:t.id||Nl(),prevId:t.id},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Ml(e,null,[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.id;return n!==e.prevId?{inputId:n||Nl(),prevId:n}:null}}]),Ml(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);!t||(Pl(t,this.sizer),this.placeHolderSizer&&Pl(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var t=void 0;t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){return Rl&&this.props.injectStyles?Cl.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce((function(t,e){return null!=t?t:e})),e=jl({},this.props.style);e.display||(e.display="inline-block");var n=jl({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}(this.props,[]);return function(t){Il.forEach((function(e){return delete t[e]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,Cl.default.createElement("div",{className:this.props.className,style:e},this.renderStyles(),Cl.default.createElement("input",jl({},r,{ref:this.inputRef})),Cl.default.createElement("div",{ref:this.sizerRef,style:_l},t),this.props.placeholder?Cl.default.createElement("div",{ref:this.placeHolderSizerRef,style:_l},this.props.placeholder):null)}}]),e}(El.Component);Fl.propTypes={className:Dl.default.string,defaultValue:Dl.default.any,extraWidth:Dl.default.oneOfType([Dl.default.number,Dl.default.string]),id:Dl.default.string,injectStyles:Dl.default.bool,inputClassName:Dl.default.string,inputRef:Dl.default.func,inputStyle:Dl.default.object,minWidth:Dl.default.oneOfType([Dl.default.number,Dl.default.string]),onAutosize:Dl.default.func,onChange:Dl.default.func,placeholder:Dl.default.string,placeholderIsMinWidth:Dl.default.bool,style:Dl.default.object,value:Dl.default.any},Fl.defaultProps={minWidth:1,injectStyles:!0};var $l=kl.default=Fl;function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vl(t,e,n){return e&&zl(t.prototype,e),n&&zl(t,n),t}function Bl(t,e){return(Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ll(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}function Wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yl(Object(n),!0).forEach((function(e){Hl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ql(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xl(t);if(e){var i=Xl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ql(this,n)}}var Zl=function(){};function Kl(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}function Ql(t,e,n){var r=[n];if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&r.push("".concat(Kl(t,i)));return r.filter((function(t){return t})).map((function(t){return String(t).trim()})).join(" ")}var tf=function(t){return Array.isArray(t)?t.filter(Boolean):"object"===xl(t)&&null!==t?[t]:[]},ef=function(t){return Gl({},Ol(t,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function nf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function rf(t){return nf(t)?window.pageYOffset:t.scrollTop}function of(t,e){nf(t)?window.scrollTo(0,e):t.scrollTop=e}function sf(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function af(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zl,i=rf(t),o=e-i,s=10,a=0;function u(){var e=sf(a+=s,i,o,n);of(t,e),a<n?window.requestAnimationFrame(u):r(t)}u()}function uf(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}var cf=!1,lf="undefined"!=typeof window?window:{};lf.addEventListener&&lf.removeEventListener&&(lf.addEventListener("p",Zl,{get passive(){return cf=!0}}),lf.removeEventListener("p",Zl,!1));var ff=cf;function hf(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,s=t.isFixedPosition,a=t.theme.spacing,u=function(t){var e=getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===e.position)return i;for(var o=t;o=o.parentElement;)if(e=getComputedStyle(o),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return o;return i}(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var l=u.getBoundingClientRect().height,f=n.getBoundingClientRect(),h=f.bottom,d=f.height,p=f.top,v=n.offsetParent.getBoundingClientRect().top,y=window.innerHeight,m=rf(u),b=parseInt(getComputedStyle(n).marginBottom,10),g=parseInt(getComputedStyle(n).marginTop,10),w=v-g,S=y-p,A=w+m,O=l-m-p,x=h-y+m+b,k=m+p-g,j=160;switch(i){case"auto":case"bottom":if(S>=d)return{placement:"bottom",maxHeight:e};if(O>=d&&!s)return o&&af(u,x,j),{placement:"bottom",maxHeight:e};if(!s&&O>=r||s&&S>=r)return o&&af(u,x,j),{placement:"bottom",maxHeight:s?S-b:O-b};if("auto"===i||s){var M=e,E=s?w:A;return E>=r&&(M=Math.min(E-b-a.controlHeight,e)),{placement:"top",maxHeight:M}}if("bottom"===i)return o&&of(u,x),{placement:"bottom",maxHeight:e};break;case"top":if(w>=d)return{placement:"top",maxHeight:e};if(A>=d&&!s)return o&&af(u,k,j),{placement:"top",maxHeight:e};if(!s&&A>=r||s&&w>=r){var C=e;return(!s&&A>=r||s&&w>=r)&&(C=s?w-g:A-g),o&&af(u,k,j),{placement:"top",maxHeight:C}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var df=function(t){return"auto"===t?"bottom":t},pf=W({getPortalPlacement:null}),vf=function(t){Ll(n,t);var e=Jl(n);function n(){var t;Ul(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={maxHeight:t.props.maxMenuHeight,placement:null},t.getPlacement=function(e){var n=t.props;if(e){var r="fixed"===n.menuPosition,i=hf({maxHeight:n.maxMenuHeight,menuEl:e,minHeight:n.minMenuHeight,placement:n.menuPlacement,shouldScroll:n.menuShouldScrollIntoView&&!r,isFixedPosition:r,theme:n.theme}),o=t.context.getPortalPlacement;o&&o(i),t.setState(i)}},t.getUpdatedProps=function(){var e=t.state.placement||df(t.props.menuPlacement);return Gl(Gl({},t.props),{},{placement:e,maxHeight:t.state.maxHeight})},t}return Vl(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(O);vf.contextType=pf;var yf=function(t){var e=t.theme,n=e.spacing.baseUnit;return{color:e.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},mf=yf,bf=yf,gf=function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("noOptionsMessage",t),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},i),e)};gf.defaultProps={children:"No options"};var wf=function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("loadingMessage",t),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},i),e)};wf.defaultProps={children:"Loading..."};var Sf,Af=function(t){Ll(n,t);var e=Jl(n);function n(){var t;Ul(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={placement:null},t.getPortalPlacement=function(e){var n=e.placement;n!==df(t.props.menuPlacement)&&t.setState({placement:n})},t}return Vl(n,[{key:"render",value:function(){var t=this.props,e=t.appendTo,n=t.children,r=t.className,i=t.controlElement,o=t.cx,s=t.innerProps,a=t.menuPosition,u=t.getStyles,c="fixed"===a;if(!e&&!c||!i)return null;var l=this.state.placement||df(t.menuPlacement),f=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}(i),h=c?0:window.pageYOffset,d=yl("div",Xu({css:u("menuPortal",{offset:f[l]+h,position:a,rect:f}),className:o({"menu-portal":!0},r)},s),n);return yl(pf.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},e?Nt(d,e):d)}}]),n}(O),Of={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},xf=function(t){var e=t.size,n=Ol(t,["size"]);return yl("svg",Xu({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Of},n))},kf=function(t){return yl(xf,Xu({size:20},t),yl("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jf=function(t){return yl(xf,Xu({size:20},t),yl("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Mf=function(t){var e=t.isFocused,n=t.theme,r=n.colors;return{label:"indicatorContainer",color:e?r.neutral60:r.neutral20,display:"flex",padding:2*n.spacing.baseUnit,transition:"color 150ms",":hover":{color:e?r.neutral80:r.neutral40}}},Ef=Mf,Cf=Mf,Df=function(){var t=ml.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Sf||(Sf=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),Tf=function(t){var e=t.delay,n=t.offset;return yl("span",{css:ml({animation:"".concat(Df," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},_f=function(t){var e=t.className,n=t.cx,r=t.innerProps,i=t.isRtl;return yl("div",Xu({css:(0,t.getStyles)("loadingIndicator",t),className:n({indicator:!0,"loading-indicator":!0},e)},r),yl(Tf,{delay:0,offset:i}),yl(Tf,{delay:160,offset:!0}),yl(Tf,{delay:320,offset:!i}))};_f.defaultProps={size:4};var If=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},Pf=function(t){return yl("div",t.innerProps,t.children)},Rf=Pf,Nf=Pf;var Ff=function(t){var e=t.children,n=t.className,r=t.components,i=t.cx,o=t.data,s=t.getStyles,a=t.innerProps,u=t.isDisabled,c=t.removeProps,l=t.selectProps,f=r.Container,h=r.Label,d=r.Remove;return yl(Sl,null,(function(r){var p=r.css,v=r.cx;return yl(f,{data:o,innerProps:Gl({className:v(p(s("multiValue",t)),i({"multi-value":!0,"multi-value--is-disabled":u},n))},a),selectProps:l},yl(h,{data:o,innerProps:{className:v(p(s("multiValueLabel",t)),i({"multi-value__label":!0},n))},selectProps:l},e),yl(d,{data:o,innerProps:Gl({className:v(p(s("multiValueRemove",t)),i({"multi-value__remove":!0},n))},c),selectProps:l}))}))};Ff.defaultProps={cropWithEllipsis:!0};var $f={ClearIndicator:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("clearIndicator",t),className:r({indicator:!0,"clear-indicator":!0},n)},i),e||yl(kf,null))},Control:function(t){var e=t.children,n=t.cx,r=t.className,i=t.isDisabled,o=t.isFocused,s=t.innerProps,a=t.menuIsOpen;return yl("div",Xu({ref:t.innerRef,css:(0,t.getStyles)("control",t),className:n({control:!0,"control--is-disabled":i,"control--is-focused":o,"control--menu-is-open":a},r)},s),e)},DropdownIndicator:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("dropdownIndicator",t),className:r({indicator:!0,"dropdown-indicator":!0},n)},i),e||yl(jf,null))},DownChevron:jf,CrossIcon:kf,Group:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.Heading,s=t.headingProps,a=t.innerProps,u=t.label,c=t.theme,l=t.selectProps;return yl("div",Xu({css:i("group",t),className:r({group:!0},n)},a),yl(o,Xu({},s,{selectProps:l,theme:c,getStyles:i,cx:r}),u),yl("div",null,e))},GroupHeading:function(t){var e=t.getStyles,n=t.cx,r=t.className,i=Ol(ef(t),["data"]);return yl("div",Xu({css:e("groupHeading",t),className:n({"group-heading":!0},r)},i))},IndicatorsContainer:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("indicatorsContainer",t),className:r({indicators:!0},n)},i),e)},IndicatorSeparator:function(t){var e=t.className,n=t.cx;return yl("span",Xu({},t.innerProps,{css:(0,t.getStyles)("indicatorSeparator",t),className:n({"indicator-separator":!0},e)}))},Input:function(t){var e=t.className,n=t.cx,r=t.getStyles,i=ef(t),o=i.innerRef,s=i.isDisabled,a=i.isHidden,u=Ol(i,["innerRef","isDisabled","isHidden"]);return yl("div",{css:r("input",t)},yl($l,Xu({className:n({input:!0},e),inputRef:o,inputStyle:If(a),disabled:s},u)))},LoadingIndicator:_f,Menu:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerRef,o=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("menu",t),className:r({menu:!0},n),ref:i},o),e)},MenuList:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps,o=t.innerRef,s=t.isMulti;return yl("div",Xu({css:(0,t.getStyles)("menuList",t),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:o},i),e)},MenuPortal:Af,LoadingMessage:wf,NoOptionsMessage:gf,MultiValue:Ff,MultiValueContainer:Rf,MultiValueLabel:Nf,MultiValueRemove:function(t){return yl("div",t.innerProps,t.children||yl(kf,{size:14}))},Option:function(t){var e=t.children,n=t.className,r=t.cx,i=t.isDisabled,o=t.isFocused,s=t.isSelected,a=t.innerRef,u=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("option",t),className:r({option:!0,"option--is-disabled":i,"option--is-focused":o,"option--is-selected":s},n),ref:a},u),e)},Placeholder:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("placeholder",t),className:r({placeholder:!0},n)},i),e)},SelectContainer:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps,o=t.isDisabled,s=t.isRtl;return yl("div",Xu({css:(0,t.getStyles)("container",t),className:r({"--is-disabled":o,"--is-rtl":s},n)},i),e)},SingleValue:function(t){var e=t.children,n=t.className,r=t.cx,i=t.isDisabled,o=t.innerProps;return yl("div",Xu({css:(0,t.getStyles)("singleValue",t),className:r({"single-value":!0,"single-value--is-disabled":i},n)},o),e)},ValueContainer:function(t){var e=t.children,n=t.className,r=t.cx,i=t.innerProps,o=t.isMulti,s=t.hasValue;return yl("div",Xu({css:(0,t.getStyles)("valueContainer",t),className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},n)},i),e)}};function Uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zf(t){return function(t){if(Array.isArray(t))return Uf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Uf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uf(t,e)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vf=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function Bf(t,e){return!!(t===e||Vf(t)&&Vf(e))}function Lf(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Bf(t[n],e[n]))return!1;return!0}for(var Wf={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Hf=function(t){return yl("span",Xu({css:Wf},t))},Yf={guidance:function(t){var e=t.isSearchable,n=t.isMulti,r=t.isDisabled,i=t.tabSelectsValue;switch(t.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.label,n=void 0===e?"":e,r=t.isDisabled;switch(t.action){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(t){var e=t.context,n=t.focused,r=void 0===n?{}:n,i=t.options,o=t.label,s=void 0===o?"":o,a=t.selectValue,u=t.isDisabled,c=t.isSelected,l=function(t,e){return t&&t.length?"".concat(t.indexOf(e)+1," of ").concat(t.length):""};if("value"===e&&a)return"value ".concat(s," focused, ").concat(l(a,r),".");if("menu"===e){var f=u?" disabled":"",h="".concat(c?"selected":"focused").concat(f);return"option ".concat(s," ").concat(h,", ").concat(l(i,r),".")}return""},onFilter:function(t){var e=t.inputValue;return"".concat(t.resultsMessage).concat(e?" for search term "+e:"",".")}},Gf=function(t){var e=t.ariaSelection,n=t.focusedOption,r=t.focusedValue,i=t.focusableOptions,o=t.isFocused,s=t.selectValue,a=t.selectProps,u=a.ariaLiveMessages,c=a.getOptionLabel,l=a.inputValue,f=a.isMulti,h=a.isOptionDisabled,d=a.isSearchable,p=a.menuIsOpen,v=a.options,y=a.screenReaderStatus,m=a.tabSelectsValue,b=a["aria-label"],g=a["aria-live"],w=ut((function(){return Gl(Gl({},Yf),u||{})}),[u]),S=ut((function(){var t,n="";if(e&&w.onChange){var r=e.removedValue||e.option||(t=e.value,Array.isArray(t)?null:t),i=Gl({isDisabled:r&&h(r),label:r?c(r):""},e);n=w.onChange(i)}return n}),[e,h,c,w]),A=ut((function(){var t="",e=n||r,i=!!(n&&s&&s.includes(n));if(e&&w.onFocus){var o={focused:e,label:c(e),isDisabled:h(e),isSelected:i,options:v,context:e===n?"menu":"value",selectValue:s};t=w.onFocus(o)}return t}),[n,r,c,h,w,v,s]),O=ut((function(){var t="";if(p&&v.length&&w.onFilter){var e=y({count:i.length});t=w.onFilter({inputValue:l,resultsMessage:e})}return t}),[i,l,p,w,v,y]),x=ut((function(){var t="";return w.guidance&&(t=w.guidance({"aria-label":b,context:r?"value":p?"menu":"input",isDisabled:n&&h(n),isMulti:f,isSearchable:d,tabSelectsValue:m})),t}),[b,n,r,f,h,d,p,w,m]),k="".concat(A," ").concat(O," ").concat(x);return yl(Hf,{"aria-live":g,"aria-atomic":"false","aria-relevant":"additions text"},o&&yl(ie.Fragment,null,yl("span",{id:"aria-selection"},S),yl("span",{id:"aria-context"},k)))},Xf=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],qf=new RegExp("["+Xf.map((function(t){return t.letters})).join("")+"]","g"),Jf={},Zf=0;Zf<Xf.length;Zf++)for(var Kf=Xf[Zf],Qf=0;Qf<Kf.letters.length;Qf++)Jf[Kf.letters[Qf]]=Kf.base;var th=function(t){return t.replace(qf,(function(t){return Jf[t]}))},eh=function(t,e){void 0===e&&(e=Lf);var n,r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&e(s,i)||(r=t.apply(this,s),o=!0,n=this,i=s),r}}(th),nh=function(t){return t.replace(/^\s+|\s+$/g,"")},rh=function(t){return"".concat(t.label," ").concat(t.value)};function ih(t){var e=t.innerRef,n=Ol(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return yl("input",Xu({ref:e},n,{css:ml({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var oh=["boxSizing","height","overflow","paddingRight","position"],sh={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ah(t){t.preventDefault()}function uh(t){t.stopPropagation()}function ch(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function lh(){return"ontouchstart"in window||navigator.maxTouchPoints}var fh=!("undefined"==typeof window||!window.document||!window.document.createElement),hh=0,dh={capture:!1,passive:!1};var ph=function(){return document.activeElement&&document.activeElement.blur()},vh={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function yh(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=function(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,s=st(!1),a=st(!1),u=st(0),c=st(null),l=ct((function(t,e){if(null!==c.current){var u=c.current,l=u.scrollTop,f=u.scrollHeight,h=c.current,d=e>0,p=f-u.clientHeight-l,v=!1;p>e&&s.current&&(r&&r(t),s.current=!1),d&&a.current&&(o&&o(t),a.current=!1),d&&e>p?(n&&!s.current&&n(t),h.scrollTop=f,v=!0,s.current=!0):!d&&-e>l&&(i&&!a.current&&i(t),h.scrollTop=0,v=!0,a.current=!0),v&&function(t){t.preventDefault(),t.stopPropagation()}(t)}}),[]),f=ct((function(t){l(t,t.deltaY)}),[l]),h=ct((function(t){u.current=t.changedTouches[0].clientY}),[]),d=ct((function(t){l(t,u.current-t.changedTouches[0].clientY)}),[l]),p=ct((function(t){if(t){var e=!!ff&&{passive:!1};"function"==typeof t.addEventListener&&t.addEventListener("wheel",f,e),"function"==typeof t.addEventListener&&t.addEventListener("touchstart",h,e),"function"==typeof t.addEventListener&&t.addEventListener("touchmove",d,e)}}),[d,h,f]),v=ct((function(t){!t||("function"==typeof t.removeEventListener&&t.removeEventListener("wheel",f,!1),"function"==typeof t.removeEventListener&&t.removeEventListener("touchstart",h,!1),"function"==typeof t.removeEventListener&&t.removeEventListener("touchmove",d,!1))}),[d,h,f]);return it((function(){if(e){var t=c.current;return p(t),function(){v(t)}}}),[e,p,v]),function(t){c.current=t}}({isEnabled:void 0===r||r,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),o=function(t){var e=t.isEnabled,n=t.accountForScrollbars,r=void 0===n||n,i=st({}),o=st(null),s=ct((function(t){if(fh){var e=document.body,n=e&&e.style;if(r&&oh.forEach((function(t){i.current[t]=n&&n[t]})),r&&hh<1){var o=parseInt(i.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,a=window.innerWidth-s+o||0;Object.keys(sh).forEach((function(t){n&&(n[t]=sh[t])})),n&&(n.paddingRight="".concat(a,"px"))}e&&lh()&&(e.addEventListener("touchmove",ah,dh),t&&(t.addEventListener("touchstart",ch,dh),t.addEventListener("touchmove",uh,dh))),hh+=1}}),[]),a=ct((function(t){if(fh){var e=document.body,n=e&&e.style;hh=Math.max(hh-1,0),r&&hh<1&&oh.forEach((function(t){n&&(n[t]=i.current[t])})),e&&lh()&&(e.removeEventListener("touchmove",ah,dh),t&&(t.removeEventListener("touchstart",ch,dh),t.removeEventListener("touchmove",uh,dh)))}}),[]);return it((function(){if(e){var t=o.current;return s(t),function(){a(t)}}}),[e,s,a]),function(t){o.current=t}}({isEnabled:n});return yl(ie.Fragment,null,n&&yl("div",{onClick:ph,css:vh}),e((function(t){i(t),o(t)})))}var mh={clearIndicator:Cf,container:function(t){return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:t.isDisabled?"none":null,position:"relative"}},control:function(t){var e=t.isDisabled,n=t.isFocused,r=t.theme,i=r.colors,o=r.spacing;return{label:"control",alignItems:"center",backgroundColor:e?i.neutral5:i.neutral0,borderColor:e?i.neutral10:n?i.primary:i.neutral20,borderRadius:r.borderRadius,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Ef,group:function(t){var e=t.theme.spacing;return{paddingBottom:2*e.baseUnit,paddingTop:2*e.baseUnit}},groupHeading:function(t){var e=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*e.baseUnit,paddingRight:3*e.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t){var e=t.theme,n=e.spacing.baseUnit,r=e.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t.isDisabled?r.neutral10:r.neutral20,marginBottom:2*n,marginTop:2*n,width:1}},input:function(t){var e=t.theme,n=e.spacing;return{margin:n.baseUnit/2,paddingBottom:n.baseUnit/2,paddingTop:n.baseUnit/2,visibility:t.isDisabled?"hidden":"visible",color:e.colors.neutral80}},loadingIndicator:function(t){var e=t.size,n=t.theme,r=n.colors;return{label:"loadingIndicator",color:t.isFocused?r.neutral60:r.neutral20,display:"flex",padding:2*n.spacing.baseUnit,transition:"color 150ms",alignSelf:"center",fontSize:e,lineHeight:1,marginRight:e,textAlign:"center",verticalAlign:"middle"}},loadingMessage:bf,menu:function(t){var e,n=t.theme,r=n.borderRadius,i=n.spacing,o=n.colors;return Wl(e={label:"menu"},function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(t.placement),"100%"),Wl(e,"backgroundColor",o.neutral0),Wl(e,"borderRadius",r),Wl(e,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Wl(e,"marginBottom",i.menuGutter),Wl(e,"marginTop",i.menuGutter),Wl(e,"position","absolute"),Wl(e,"width","100%"),Wl(e,"zIndex",1),e},menuList:function(t){var e=t.theme.spacing.baseUnit;return{maxHeight:t.maxHeight,overflowY:"auto",paddingBottom:e,paddingTop:e,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(t){var e=t.rect;return{left:e.left,position:t.position,top:t.offset,width:e.width,zIndex:1}},multiValue:function(t){var e=t.theme;return{label:"multiValue",backgroundColor:e.colors.neutral10,borderRadius:e.borderRadius/2,display:"flex",margin:e.spacing.baseUnit/2,minWidth:0}},multiValueLabel:function(t){var e=t.theme;return{borderRadius:e.borderRadius/2,color:e.colors.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:t.cropWithEllipsis?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(t){var e=t.theme,n=e.spacing,r=e.colors;return{alignItems:"center",borderRadius:e.borderRadius/2,backgroundColor:t.isFocused&&r.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:r.dangerLight,color:r.danger}}},noOptionsMessage:mf,option:function(t){var e=t.isDisabled,n=t.isSelected,r=t.theme,i=r.spacing,o=r.colors;return{label:"option",backgroundColor:n?o.primary:t.isFocused?o.primary25:"transparent",color:e?o.neutral20:n?o.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(n?o.primary:o.primary50)}}},placeholder:function(t){var e=t.theme,n=e.spacing;return{label:"placeholder",color:e.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(t){var e=t.theme,n=e.spacing,r=e.colors;return{label:"singleValue",color:t.isDisabled?r.neutral40:r.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,maxWidth:"calc(100% - ".concat(2*n.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(t){var e=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(e.baseUnit/2,"px ").concat(2*e.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},bh={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},gh={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:uf(),captureMenuScroll:!uf(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(t){return function(e,n){var r=Gl({ignoreCase:!0,ignoreAccents:!0,stringify:rh,trim:!0,matchFrom:"any"},t),i=r.ignoreCase,o=r.ignoreAccents,s=r.stringify,a=r.trim,u=r.matchFrom,c=a?nh(n):n,l=a?nh(s(e)):s(e);return i&&(c=c.toLowerCase(),l=l.toLowerCase()),o&&(c=eh(c),l=th(l)),"start"===u?l.substr(0,c.length)===c:l.indexOf(c)>-1}}(),formatGroupLabel:function(t){return t.label},getOptionLabel:function(t){return t.label},getOptionValue:function(t){return t.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(t){return!!t.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(1!==e?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function wh(t,e,n,r){return{type:"option",data:e,isDisabled:Mh(t,e,n),isSelected:Eh(t,e,n),label:kh(t,e),value:jh(t,e),index:r}}function Sh(t,e){return t.options.map((function(n,r){if(n.options){var i=n.options.map((function(n,r){return wh(t,n,e,r)})).filter((function(e){return Oh(t,e)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=wh(t,n,e,r);return Oh(t,o)?o:void 0})).filter((function(t){return!!t}))}function Ah(t){return t.reduce((function(t,e){return"group"===e.type?t.push.apply(t,zf(e.options.map((function(t){return t.data})))):t.push(e.data),t}),[])}function Oh(t,e){var n=t.inputValue,r=void 0===n?"":n,i=e.data,o=e.isSelected,s=e.label,a=e.value;return(!Dh(t)||!o)&&Ch(t,{label:s,value:a,data:i},r)}function xh(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var kh=function(t,e){return t.getOptionLabel(e)},jh=function(t,e){return t.getOptionValue(e)};function Mh(t,e,n){return"function"==typeof t.isOptionDisabled&&t.isOptionDisabled(e,n)}function Eh(t,e,n){if(n.indexOf(e)>-1)return!0;if("function"==typeof t.isOptionSelected)return t.isOptionSelected(e,n);var r=jh(t,e);return n.some((function(e){return jh(t,e)===r}))}function Ch(t,e,n){return!t.filterOption||t.filterOption(e,n)}var Dh=function(t){var e=t.hideSelectedOptions;return void 0===e?t.isMulti:e},Th=1,_h=function(t){Ll(n,t);var e=Jl(n);function n(t){var r;return Ul(this,n),(r=e.call(this,t)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(t){r.controlRef=t},r.focusedOptionRef=null,r.getFocusedOptionRef=function(t){r.focusedOptionRef=t},r.menuListRef=null,r.getMenuListRef=function(t){r.menuListRef=t},r.inputRef=null,r.getInputRef=function(t){r.inputRef=t},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(t,e){var n=r.props,i=n.onChange;e.name=n.name,r.ariaOnChange(t,e),i(t,e)},r.setValue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,i=r.props,o=i.closeMenuOnSelect,s=i.isMulti;r.onInputChange("",{action:"set-value"}),o&&(r.setState({inputIsHiddenAfterUpdate:!s}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(t,{action:e,option:n})},r.selectOption=function(t){var e=r.props,n=e.blurInputOnSelect,i=e.isMulti,o=e.name,s=r.state.selectValue,a=i&&r.isOptionSelected(t,s),u=r.isOptionDisabled(t,s);if(a){var c=r.getOptionValue(t);r.setValue(s.filter((function(t){return r.getOptionValue(t)!==c})),"deselect-option",t)}else{if(u)return void r.ariaOnChange(t,{action:"select-option",name:o});i?r.setValue([].concat(zf(s),[t]),"select-option",t):r.setValue(t,"select-option")}n&&r.blurInput()},r.removeValue=function(t){var e=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(t),o=n.filter((function(t){return r.getOptionValue(t)!==i}));r.onChange(e?o:o[0]||null,{action:"remove-value",removedValue:t}),r.focusInput()},r.clearValue=function(){r.onChange(r.props.isMulti?[]:null,{action:"clear",removedValues:r.state.selectValue})},r.popValue=function(){var t=r.props.isMulti,e=r.state.selectValue,n=e[e.length-1],i=e.slice(0,e.length-1);r.onChange(t?i:i[0]||null,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ql.apply(void 0,[r.props.classNamePrefix].concat(e))},r.getOptionLabel=function(t){return kh(r.props,t)},r.getOptionValue=function(t){return jh(r.props,t)},r.getStyles=function(t,e){var n=mh[t](e);n.boxSizing="border-box";var i=r.props.styles[t];return i?i(n,e):n},r.getElementId=function(t){return"".concat(r.instancePrefix,"-").concat(t)},r.getComponents=function(){return function(t){return Gl(Gl({},$f),t.components)}(r.props)},r.buildCategorizedOptions=function(){return Sh(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Ah(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(t,e){r.setState({ariaSelection:Gl({value:t},e)})},r.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(){r.blockOptionHover=!1},r.onControlMouseDown=function(t){var e=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&r.onMenuClose():e&&r.openMenu("first"):(e&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()},r.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||r.props.isDisabled)){var e=r.props,n=e.isMulti,i=e.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),t.preventDefault(),t.stopPropagation()}},r.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(r.clearValue(),t.stopPropagation(),r.openAfterFocus=!1,"touchend"===t.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(t){"boolean"==typeof r.props.closeMenuOnScroll?t.target instanceof HTMLElement&&nf(t.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(t)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(t){var e=t.touches,n=e&&e.item(0);!n||(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(t){var e=t.touches,n=e&&e.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||o>5}},r.onTouchEnd=function(t){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(t.target)&&r.menuListRef&&!r.menuListRef.contains(t.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(t){r.userIsDragging||r.onControlMouseDown(t)},r.onClearIndicatorTouchEnd=function(t){r.userIsDragging||r.onClearIndicatorMouseDown(t)},r.onDropdownIndicatorTouchEnd=function(t){r.userIsDragging||r.onDropdownIndicatorMouseDown(t)},r.handleInputChange=function(t){var e=t.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(e,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(t){r.props.onFocus&&r.props.onFocus(t),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(t){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(t),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(t){r.blockOptionHover||r.state.focusedOption===t||r.setState({focusedOption:t})},r.shouldHideSelectedOptions=function(){return Dh(r.props)},r.onKeyDown=function(t){var e=r.props,n=e.isMulti,i=e.backspaceRemovesValue,o=e.escapeClearsValue,s=e.inputValue,a=e.isClearable,u=e.menuIsOpen,c=e.onKeyDown,l=e.tabSelectsValue,f=e.openMenuOnFocus,h=r.state,d=h.focusedOption,p=h.focusedValue,v=h.selectValue;if(!(e.isDisabled||"function"==typeof c&&(c(t),t.defaultPrevented))){switch(r.blockOptionHover=!0,t.key){case"ArrowLeft":if(!n||s)return;r.focusValue("previous");break;case"ArrowRight":if(!n||s)return;r.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(p)r.removeValue(p);else{if(!i)return;n?r.popValue():a&&r.clearValue()}break;case"Tab":if(r.isComposing||t.shiftKey||!u||!l||!d||f&&r.isOptionSelected(d,v))return;r.selectOption(d);break;case"Enter":if(229===t.keyCode)break;if(u){if(!d||r.isComposing)return;r.selectOption(d);break}return;case"Escape":u?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):a&&o&&r.clearValue();break;case" ":if(s)return;if(!u){r.openMenu("first");break}if(!d)return;r.selectOption(d);break;case"ArrowUp":u?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":u?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!u)return;r.focusOption("pageup");break;case"PageDown":if(!u)return;r.focusOption("pagedown");break;case"Home":if(!u)return;r.focusOption("first");break;case"End":if(!u)return;r.focusOption("last");break;default:return}t.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++Th),r.state.selectValue=tf(t.value),r}return Vl(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isDisabled,r=this.state.isFocused;(r&&!n&&t.isDisabled||r&&e.menuIsOpen&&!t.menuIsOpen)&&this.focusInput(),r&&n&&!t.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?of(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&of(t,Math.max(e.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,e){this.props.onInputChange(t,e)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(t){var e=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),s="first"===t?0:o.length-1;if(!this.props.isMulti){var a=o.indexOf(r[0]);a>-1&&(s=a)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[s]},(function(){return e.onMenuOpen()}))}},{key:"focusValue",value:function(t){var e=this.state,n=e.selectValue,r=e.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,s=-1;if(n.length){switch(t){case"previous":s=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(s=i+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===t?i=o>0?o-1:r.length-1:"down"===t?i=(o+1)%r.length:"pageup"===t?(i=o-e)<0&&(i=0):"pagedown"===t?(i=o+e)>r.length-1&&(i=r.length-1):"last"===t&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(bh):Gl(Gl({},bh),this.props.theme):bh}},{key:"getCommonProps",value:function(){var t=this.selectOption,e=this.setValue,n=this.props,r=n.isMulti,i=n.isRtl,o=n.options;return{clearValue:this.clearValue,cx:this.cx,getStyles:this.getStyles,getValue:this.getValue,hasValue:this.hasValue(),isMulti:r,isRtl:i,options:o,selectOption:t,selectProps:n,setValue:e,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var t=this.props,e=t.isClearable;return void 0===e?t.isMulti:e}},{key:"isOptionDisabled",value:function(t,e){return Mh(this.props,t,e)}},{key:"isOptionSelected",value:function(t,e){return Eh(this.props,t,e)}},{key:"filterOption",value:function(t,e){return Ch(this.props,t,e)}},{key:"formatOptionLabel",value:function(t,e){return"function"==typeof this.props.formatOptionLabel?this.props.formatOptionLabel(t,{context:e,inputValue:this.props.inputValue,selectValue:this.state.selectValue}):this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,e=t.isDisabled,n=t.isSearchable,r=t.inputId,i=t.inputValue,o=t.tabIndex,s=t.form,a=this.getComponents().Input,u=this.state.inputIsHidden,c=this.commonProps,l=r||this.getElementId("input"),f={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?ie.createElement(a,Xu({},c,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:l,innerRef:this.getInputRef,isDisabled:e,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:s,type:"text",value:i},f)):ie.createElement(ih,Xu({id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Zl,onFocus:this.onInputFocus,readOnly:!0,disabled:e,tabIndex:o,form:s,value:""},f))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,e=this.getComponents(),n=e.MultiValue,r=e.MultiValueContainer,i=e.MultiValueLabel,o=e.MultiValueRemove,s=e.SingleValue,a=e.Placeholder,u=this.commonProps,c=this.props,l=c.controlShouldRenderValue,f=c.isDisabled,h=c.isMulti,d=c.inputValue,p=c.placeholder,v=this.state,y=v.selectValue,m=v.focusedValue,b=v.isFocused;if(!this.hasValue()||!l)return d?null:ie.createElement(a,Xu({},u,{key:"placeholder",isDisabled:f,isFocused:b}),p);if(h)return y.map((function(e,s){return ie.createElement(n,Xu({},u,{components:{Container:r,Label:i,Remove:o},isFocused:e===m,isDisabled:f,key:"".concat(t.getOptionValue(e)).concat(s),index:s,removeProps:{onClick:function(){return t.removeValue(e)},onTouchEnd:function(){return t.removeValue(e)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation()}},data:e}),t.formatOptionLabel(e,"value"))}));if(d)return null;var g=y[0];return ie.createElement(s,Xu({},u,{data:g,isDisabled:f}),this.formatOptionLabel(g,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;return this.isClearable()&&t&&!r&&this.hasValue()&&!i?ie.createElement(t,Xu({},e,{innerProps:{onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"},isFocused:o})):null}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,e=this.props;return t&&e.isLoading?ie.createElement(t,Xu({},this.commonProps,{innerProps:{"aria-hidden":"true"},isDisabled:e.isDisabled,isFocused:this.state.isFocused})):null}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),e=t.IndicatorSeparator;return t.DropdownIndicator&&e?ie.createElement(e,Xu({},this.commonProps,{isDisabled:this.props.isDisabled,isFocused:this.state.isFocused})):null}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;return t?ie.createElement(t,Xu({},this.commonProps,{innerProps:{onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"},isDisabled:this.props.isDisabled,isFocused:this.state.isFocused})):null}},{key:"renderMenu",value:function(){var t=this,e=this.getComponents(),n=e.Group,r=e.GroupHeading,i=e.Menu,o=e.MenuList,s=e.MenuPortal,a=e.LoadingMessage,u=e.NoOptionsMessage,c=e.Option,l=this.commonProps,f=this.state.focusedOption,h=this.props,d=h.captureMenuScroll,p=h.inputValue,v=h.isLoading,y=h.loadingMessage,m=h.minMenuHeight,b=h.maxMenuHeight,g=h.menuPlacement,w=h.menuPosition,S=h.menuPortalTarget,A=h.menuShouldBlockScroll,O=h.menuShouldScrollIntoView,x=h.noOptionsMessage,k=h.onMenuScrollToTop,j=h.onMenuScrollToBottom;if(!h.menuIsOpen)return null;var M,E=function(e,n){var r=e.type,i=e.data,o=e.isDisabled,s=e.isSelected,a=e.label,u=e.value,h=f===i,d=o?void 0:function(){return t.onOptionHover(i)},p=o?void 0:function(){return t.selectOption(i)},v="".concat(t.getElementId("option"),"-").concat(n);return ie.createElement(c,Xu({},l,{innerProps:{id:v,onClick:p,onMouseMove:d,onMouseOver:d,tabIndex:-1},data:i,isDisabled:o,isSelected:s,key:v,label:a,type:r,value:u,isFocused:h,innerRef:h?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(e.data,"menu"))};if(this.hasOptions())M=this.getCategorizedOptions().map((function(e){if("group"===e.type){var i=e.data,o=e.options,s=e.index,a="".concat(t.getElementId("group"),"-").concat(s),u="".concat(a,"-heading");return ie.createElement(n,Xu({},l,{key:a,data:i,options:o,Heading:r,headingProps:{id:u,data:e.data},label:t.formatGroupLabel(e.data)}),e.options.map((function(t){return E(t,"".concat(s,"-").concat(t.index))})))}if("option"===e.type)return E(e,"".concat(e.index))}));else if(v){var C=y({inputValue:p});if(null===C)return null;M=ie.createElement(a,l,C)}else{var D=x({inputValue:p});if(null===D)return null;M=ie.createElement(u,l,D)}var T={minMenuHeight:m,maxMenuHeight:b,menuPlacement:g,menuPosition:w,menuShouldScrollIntoView:O},_=ie.createElement(vf,Xu({},l,T),(function(e){var n=e.placerProps,r=n.maxHeight;return ie.createElement(i,Xu({},l,T,{innerRef:e.ref,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:v,placement:n.placement}),ie.createElement(yh,{captureEnabled:d,onTopArrive:k,onBottomArrive:j,lockEnabled:A},(function(e){return ie.createElement(o,Xu({},l,{innerRef:function(n){t.getMenuListRef(n),e(n)},isLoading:v,maxHeight:r,focusedOption:f}),M)})))}));return S||"fixed"===w?ie.createElement(s,Xu({},l,{appendTo:S,controlElement:this.controlRef,menuPlacement:g,menuPosition:w}),_):_}},{key:"renderFormField",value:function(){var t=this,e=this.props,n=e.delimiter,r=e.name,i=this.state.selectValue;if(r&&!e.isDisabled){if(e.isMulti){if(n){var o=i.map((function(e){return t.getOptionValue(e)})).join(n);return ie.createElement("input",{name:r,type:"hidden",value:o})}var s=i.length>0?i.map((function(e,n){return ie.createElement("input",{key:"i-".concat(n),name:r,type:"hidden",value:t.getOptionValue(e)})})):ie.createElement("input",{name:r,type:"hidden"});return ie.createElement("div",null,s)}var a=i[0]?this.getOptionValue(i[0]):"";return ie.createElement("input",{name:r,type:"hidden",value:a})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,e=this.state,n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.isFocused,s=e.selectValue,a=this.getFocusableOptions();return ie.createElement(Gf,Xu({},t,{ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:s,focusableOptions:a}))}},{key:"render",value:function(){var t=this.getComponents(),e=t.Control,n=t.IndicatorsContainer,r=t.SelectContainer,i=t.ValueContainer,o=this.props,s=o.className,a=o.id,u=o.isDisabled,c=o.menuIsOpen,l=this.state.isFocused,f=this.commonProps=this.getCommonProps();return ie.createElement(r,Xu({},f,{className:s,innerProps:{id:a,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:l}),this.renderLiveRegion(),ie.createElement(e,Xu({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:l,menuIsOpen:c}),ie.createElement(i,Xu({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),ie.createElement(n,Xu({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.prevProps,r=e.clearFocusValueOnUpdate,i=e.inputIsHiddenAfterUpdate,o=t.value,s=t.menuIsOpen,a={};if(n&&(o!==n.value||t.options!==n.options||s!==n.menuIsOpen||t.inputValue!==n.inputValue)){var u=tf(o),c=s?function(t,e){return Ah(Sh(t,e))}(t,u):[],l=r?function(t,e){var n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}(e,u):null;a={selectValue:u,focusedOption:xh(e,c),focusedValue:l,clearFocusValueOnUpdate:!1}}var f=null!=i&&t!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{};return Gl(Gl(Gl({},a),f),{},{prevProps:t})}}]),n}(O);_h.defaultProps=gh;var Ih,Ph,Rh,Nh=(Ih=_h,Rh=Ph=function(t){Ll(n,t);var e=Jl(n);function n(){var t;Ul(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).select=void 0,t.state={inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue},t.onChange=function(e,n){t.callProp("onChange",e,n),t.setState({value:e})},t.onInputChange=function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})},t.onMenuOpen=function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})},t.onMenuClose=function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})},t}return Vl(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(t){return void 0!==this.props[t]?this.props[t]:this.state[t]}},{key:"callProp",value:function(t){if("function"==typeof this.props[t]){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this.props)[t].apply(e,r)}}},{key:"render",value:function(){var t=this,e=Ol(this.props,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return ie.createElement(Ih,Xu({},e,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(O),Ph.defaultProps={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Rh);const Fh=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var $h=t=>{const e=t.content?Fh.find((e=>e.value===t.content)):null;return g("div",{className:"r6o-purposedropdown"},g(Nh,{value:e,onChange:t.onChange,options:Fh,isDisabled:!t.editable}))};const Uh=t=>g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:t.width},g("metadata",null,"IcoFont Icons"),g("title",null,"simple-down"),g("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),g("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),zh=t=>g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:t.width},g("metadata",null,"IcoFont Icons"),g("title",null,"close"),g("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),g("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),Vh=t=>g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:t.width},g("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var Bh=t=>{const[e,n]=nt(!1),[r,i]=nt(!1),o=t.body.modified||t.body.created,s=t.body.creator&&g("div",{className:"r6o-lastmodified"},g("span",{className:"r6o-lastmodified-by"},t.body.creator.name||t.body.creator.id),t.body.created&&g("span",{className:"r6o-lastmodified-at"},g(Fn,{datetime:t.env.toClientTime(o),locale:Du.locale()})));return t.readOnly?g("div",{className:"r6o-widget comment"},g("div",{className:"r6o-readonly-comment"},t.body.value),s):g("div",{className:e?"r6o-widget comment editable":"r6o-widget comment"},g(Gu,{editable:e,content:t.body.value,onChange:e=>t.onUpdate(t.body,f(l({},t.body),{value:e.target.value})),onSaveAndClose:t.onSaveAndClose}),!e&&s,t.purposeSelector&&g($h,{editable:e,content:t.body.purpose,onChange:e=>t.onUpdate(t.body,f(l({},t.body),{purpose:e.value})),onSaveAndClose:t.onSaveAndClose}),g("div",{className:r?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>i(!r)},g(Uh,{width:12})),r&&g(Tu,{onEdit:()=>{n(!0),i(!1)},onDelete:()=>{t.onDelete(t.body),i(!1)},onClickOutside:()=>i(!1)}))};const Lh=Fh.map((t=>t.value)),Wh=(t,e)=>{const n=e?Lh.indexOf(t.purpose)>-1:"commenting"==t.purpose||"replying"==t.purpose;return"TextualBody"===t.type&&(!t.hasOwnProperty("purpose")||n)},Hh=(t,e)=>{var n,r;if(!0===e.editable)return!1;if(!1===e.editable)return!0;if("MINE_ONLY"===e.editable){const i=null==(n=t.creator)?void 0:n.id;return(null==(r=e.env.user)?void 0:r.id)!==i}return e.readOnly},Yh=t=>{const e=t.annotation?t.annotation.bodies.filter((e=>Wh(e,t.purposeSelector))):[],n=((t,e)=>t||{type:"TextualBody",value:"",purpose:e?"replying":"commenting",draft:!0})(e.find((t=>1==t.draft)),e.length>1),r=e.filter((t=>t!=n));return g(A,null,r.map(((e,n)=>g(Bh,{key:n,env:t.env,purposeSelector:t.purposeSelector,readOnly:Hh(e,t),body:e,onUpdate:t.onUpdateBody,onDelete:t.onRemoveBody,onSaveAndClose:t.onSaveAndClose}))),!t.readOnly&&t.annotation&&g("div",{className:"r6o-widget comment editable"},g(Gu,{focus:t.focus,content:n.value,editable:!0,placeholder:Du.t(r.length>0?"Add a reply...":"Add a comment..."),onChange:e=>{const r=n.value,i=e.target.value;0===r.length&&i.length>0?t.onAppendBody(f(l({},n),{value:i})):r.length>0&&0===i.length?t.onRemoveBody(n):t.onUpdateBody(n,f(l({},n),{value:i}))},onSaveAndClose:()=>t.onSaveAndClose()}),t.purposeSelector&&n.value.length>0&&g($h,{editable:!0,content:n.purpose,onChange:e=>t.onUpdateBody(n,f(l({},n),{purpose:e.value})),onSaveAndClose:()=>t.onSaveAndClose()})))};Yh.disableDelete=(t,e)=>t.bodies.filter((t=>Wh(t,e.purposeSelector))).some((t=>Hh(t,e)));var Gh=Yh;function Xh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bl(t,e)}function qh(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Jh=!1,Zh=ie.createContext(null),Kh="unmounted",Qh="exited",td="entering",ed="entered",nd="exiting",rd=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=Qh,r.appearStatus=td):i=ed:i=e.unmountOnExit||e.mountOnEnter?Kh:Qh,r.state={status:i},r.nextCallback=null,r}Xh(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Kh?{status:Qh}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==td&&n!==ed&&(e=td):(n===td||n===ed)&&(e=nd)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===td?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===Qh&&this.setState({status:Kh})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[ie.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),u=r?a.appear:a.enter;!t&&!n||Jh?this.safeSetState({status:ed},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:td},(function(){e.props.onEntering(o,s),e.onTransitionEnd(u,(function(){e.safeSetState({status:ed},(function(){e.props.onEntered(o,s)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ie.findDOMNode(this);e&&!Jh?(this.props.onExit(r),this.safeSetState({status:nd},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Qh},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:Qh},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:ie.findDOMNode(this);if(n&&(null!=t||this.props.addEndListener)){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback];this.props.addEndListener(r[0],r[1])}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===Kh)return null;var e=this.props,n=e.children,r=Al(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ie.createElement(Zh.Provider,{value:null},"function"==typeof n?n(t,r):ie.cloneElement(ie.Children.only(n),r))},e}(ie.Component);function id(){}rd.contextType=Zh,rd.propTypes={},rd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:id,onEntering:id,onEntered:id,onExit:id,onExiting:id,onExited:id},rd.UNMOUNTED=Kh,rd.EXITED=Qh,rd.ENTERING=td,rd.ENTERED=ed,rd.EXITING=nd;var od=rd,sd=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return function(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=qh(t.className,e):t.setAttribute("class",qh(t.className&&t.className.baseVal||"",e))}(t,e)}))},ad=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1];e.removeClasses(i,"exit"),e.addClass(i,o?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n);e.addClass(r[0],r[1]?"appear":"enter","active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1]?"appear":"enter";e.removeClasses(i,o),e.addClass(i,o,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t);e.addClass(n[0],"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}Xh(e,t);var n=e.prototype;return n.addClass=function(t,e,n){var r=this.getClassNames(e)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&i&&(r+=" "+i),r&&(this.appliedClasses[e][n]=r,function(t,e){t&&e&&e.split(" ").forEach((function(e){return function(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}(t,e)}))}(t,r))},n.removeClasses=function(t,e){var n=this.appliedClasses[e],r=n.base,i=n.active,o=n.done;this.appliedClasses[e]={},r&&sd(t,r),i&&sd(t,i),o&&sd(t,o)},n.render=function(){var t=Al(this.props,["classNames"]);return ie.createElement(od,Xu({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(ie.Component);ad.defaultProps={classNames:""},ad.propTypes={};var ud=ad;var cd=t=>{const e=st(),[n,r]=nt(t.initialValue||""),[i,o]=nt([]),[s,a]=nt(null);it((()=>{t.focus&&e.current.querySelector("input").focus({preventScroll:!0})}),[]),it((()=>{t.onChange&&t.onChange(n)}),[n]);const u=()=>{if(null!==s)t.onSubmit(i[s]);else{const e=n.trim();if(e){const n=Array.isArray(t.vocabulary)?t.vocabulary.find((t=>(t.label||t).toLowerCase()===e.toLowerCase())):null;t.onSubmit(n||e)}}r(""),o([]),a(null)};return g("div",{ref:e,className:"r6o-autocomplete"},g("div",null,g("input",{onKeyDown:e=>{if(13===e.which)u();else if(27===e.which)t.onCancel&&t.onCancel();else if(i.length>0){if(38===e.which)if(null===s)a(0);else{const t=Math.max(0,s-1);a(t)}else if(40===e.which)if(null===s)a(0);else{const t=Math.min(i.length-1,s+1);a(t)}}else 40===e.which&&Array.isArray(t.vocabulary)&&o(t.vocabulary)},onChange:e=>{const{value:n}=e.target;r(n),a(null),n?(e=>{if("function"==typeof t.vocabulary){const n=((t,e)=>e(t))(e,t.vocabulary);n.then?n.then(o):o(n)}else{const n=((t,e)=>e.filter((e=>(e.label?e.label:e).toLowerCase().startsWith(t.toLowerCase()))))(e,t.vocabulary);o(n)}})(n):o([])},value:n,placeholder:t.placeholder})),g("ul",null,i.length>0&&i.map(((t,e)=>g("li",{key:`${t.label?t.label:t}${e}`,onClick:u,onMouseEnter:()=>a(e),style:s===e?{backgroundColor:"#bde4ff"}:{}},t.label?t.label:t)))))};var ld=t=>{const e=t.annotation?t.annotation.bodies.filter((t=>"TextualBody"===t.type&&"tagging"===t.purpose)):[],n=(t=>t||{type:"TextualBody",value:"",purpose:"tagging",draft:!0})(e.slice().reverse().find((t=>t.draft))),r=e.filter((t=>t!=n)),[i,o]=nt(!1),s=t=>()=>{o(i!==t&&t)},a=e=>n=>{n.stopPropagation(),t.onRemoveBody(e)};return g("div",{className:"r6o-widget r6o-tag"},r.length>0&&g("ul",{className:"r6o-taglist"},r.map((e=>g("li",{key:e.value,onClick:s(e.value)},g("span",{className:"r6o-label"},e.value),!t.readOnly&&g(ud,{in:i===e.value,timeout:200,classNames:"r6o-delete"},g("span",{className:"r6o-delete-wrapper",onClick:a(e)},g("span",{className:"r6o-delete"},g(zh,{width:12})))))))),!t.readOnly&&g(cd,{focus:t.focus,placeholder:Du.t("Add tag..."),vocabulary:t.vocabulary||[],onChange:e=>{const r=n.value.trim(),i=e.trim();0===r.length&&i.length>0?t.onAppendBody(f(l({},n),{value:i})):r.length>0&&0===i.length?t.onRemoveBody(n):t.onUpdateBody(n,f(l({},n),{value:i}))},onSubmit:e=>{const r=f(l({},n),e.label?{value:e.label,source:e.uri}:{value:e}),i=h(r,["draft"]);0===n.value.trim().length?t.onAppendBody(i):t.onUpdateBody(n,i)}}))};class fd extends O{constructor(t){super(t),this.element=ie.createRef()}renderWidget(t){const e=this.props.widget(f(l({annotation:t.annotation,readOnly:t.readOnly},t.config),{onAppendBody:(e,n)=>t.onAppendBody(e,n),onUpdateBody:(e,n,r)=>t.onUpdateBody(e,n,r),onUpsertBody:(e,n,r)=>t.onUpsertBody(e,n,r),onRemoveBody:(e,n)=>t.onRemoveBody(e,n),onBatchModify:(e,n)=>t.onBatchModify(e,n),onSetProperty:(e,n)=>t.onSetProperty(e,n),onSaveAndClose:()=>t.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(e)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(t){this.element.current&&this.props.annotation!==t.annotation&&this.renderWidget(t)}render(){return g("div",{ref:this.element,className:"widget"})}}window.React=ie,window.ReactDOM=ie;const hd={COMMENT:Gh,TAG:ld},dd=[g(Gh,null),g(ld,null)],pd=t=>{const e=(t,e,n)=>{if("string"==typeof t||t instanceof String)return ie.createElement(hd[t],e);if("react"===(null==n?void 0:n.toLowerCase()))return ie.createElement(t,e);if("plainjs"===(null==n?void 0:n.toLowerCase()))return g(fd,{widget:t,config:e});if((t=>(t=>{var e;return"function"==typeof t&&!!(null==(e=t.prototype)?void 0:e.isReactComponent)})(t)||(t=>"function"==typeof t&&(String(t).match(/return .+\(['|"].+['|"],\s*\{/g)||String(t).match(/return .+preact_compat/)||String(t).match(/return .+\.createElement/g)))(t))(t))return ie.createElement(t,e);if("function"==typeof t||t instanceof Function)return g(fd,{widget:t,config:e});throw`${t} is not a valid plugin`};if(t.widget){const n=t,{widget:r,force:i}=n;return e(r,h(n,["widget","force"]),i)}return e(t)};var vd=(t,e,n,r)=>{const i=t.getBoundingClientRect();e.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:o,top:s,right:a,bottom:u}=n.getBoundingClientRect();if(e.style.top=u-i.top+14+"px",e.style.left=o-i.left+"px",r){const t=e.children[1].getBoundingClientRect();if(t.right>window.innerWidth&&(e.classList.remove("r6o-arrow-left"),e.classList.add("r6o-arrow-right"),e.style.left=a-t.width-i.left+"px"),t.bottom>window.innerHeight){e.classList.remove("r6o-arrow-top"),e.classList.add("r6o-arrow-bottom");const t=e.children[1].getBoundingClientRect().height;e.style.top=s-i.top-t-14+"px"}const n=e.children[1].getBoundingClientRect();n.top<0&&(e.classList.add("pushed","down"),e.style.top=-i.top+"px",n.height-i.top>u-i.top&&e.classList.remove("r6o-arrow-bottom")),n.left<0&&(e.classList.add("pushed","right"),e.style.left=-i.left+"px"),requestAnimationFrame((()=>e.style.opacity=1))}};const yd=t=>{const{top:e,left:n,width:r,height:i}=t.getBoundingClientRect();return`${e}, ${n}, ${r}, ${i}`};class md extends O{constructor(t){super(t),d(this,"initResizeObserver",(()=>{const t=void 0===this.props.autoPosition||this.props.autoPosition;if(null==window?void 0:window.ResizeObserver){const e=new ResizeObserver((()=>{this.state.dragged||vd(this.props.wrapperEl,this.element.current,this.props.selectedElement,t)}));return e.observe(this.props.wrapperEl),()=>e.disconnect()}this.state.dragged||vd(this.props.wrapperEl,this.element.current,this.props.selectedElement,t)})),d(this,"creationMeta",(t=>{const e={},{user:n}=this.props.env;return n&&(e.creator={},n.id&&(e.creator.id=n.id),n.displayName&&(e.creator.name=n.displayName),e[t.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),e})),d(this,"getCurrentAnnotation",(()=>this.state.currentAnnotation.clone())),d(this,"updateCurrentAnnotation",((t,e)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(t)},(()=>{e&&this.onOk()})))),d(this,"onAppendBody",((t,e)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,l(l({},t),this.creationMeta(t))]},e))),d(this,"onUpdateBody",((t,e,n)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map((n=>n===t?l(l({},e),this.creationMeta(e)):n))},n))),d(this,"onRemoveBody",((t,e)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter((e=>e!==t))},e))),d(this,"onUpsertBody",((t,e,n)=>{if(null==t&&null!=e)this.onAppendBody(e,n);else if(null!=t&&null!=e)this.onUpdateBody(t,e,n);else if(null!=t&&null==e){const e=this.state.currentAnnotation.bodies.find((e=>e.purpose===t.purpose));e?this.onUpdateBody(e,t,n):this.onAppendBody(t,n)}})),d(this,"onBatchModify",((t,e)=>{const n=t.filter((t=>"upsert"===t.action&&t.body)).map((t=>({previous:this.state.currentAnnotation.bodies.find((e=>e.purpose===t.body.purpose)),updated:l(l({},t.body),this.creationMeta(t.body))}))),r=t.filter((t=>"remove"===t.action)).map((t=>t.body)),i=[...t.filter((t=>"append"===t.action||"upsert"===t.action&&t.updated&&!t.previous)).map((t=>l(l({},t.body),this.creationMeta(t.body)))),...n.filter((t=>!t.previous)).map((t=>t.updated))],o=[...t.filter((t=>"update"===t.action||"upsert"===t.action&&t.updated&&t.previous)).map((t=>({previous:t.previous,updated:l(l({},t.updated),this.creationMeta(t.updated))}))),...n.filter((t=>t.previous))],s=[...this.state.currentAnnotation.bodies.filter((t=>!r.includes(t))).map((t=>{const e=o.find((e=>e.previous===t));return e?e.updated:t})),...i];this.updateCurrentAnnotation({body:s},e)})),d(this,"onSetProperty",((t,e)=>{if(["@context","id","type","body","target"].includes(t))throw new Exception(`Cannot set ${t} - not allowed`);if(e)this.updateCurrentAnnotation({[t]:e});else{const e=this.currentAnnotation.clone();delete e[t],this.setState({currentAnnotation:e})}})),d(this,"onCancel",(()=>this.props.onCancel(this.props.annotation))),d(this,"onOk",(()=>{const t=t=>t.clone({body:t.bodies.map((t=>h(t,["draft"])))}),{currentAnnotation:e}=this.state;0!==e.bodies.length||this.props.allowEmpty?e.isSelection?this.props.onAnnotationCreated(t(e).toAnnotation()):this.props.onAnnotationUpdated(t(e),this.props.annotation):e.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation)})),d(this,"onDelete",(()=>this.props.onAnnotationDeleted(this.props.annotation))),this.element=ie.createRef(),this.state={currentAnnotation:t.annotation,dragged:!1,selectionBounds:yd(t.selectedElement)}}componentWillReceiveProps(t){var e;const{selectionBounds:n}=this.state,r=yd(t.selectedElement);(null==(e=this.props.annotation)?void 0:e.isEqual(t.annotation))?this.setState({selectionBounds:r}):this.setState({currentAnnotation:t.annotation,selectionBounds:r}),this.props.modifiedTarget!=t.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),n!=r&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver((()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())})).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:t}=this.state,e=this.props.widgets?this.props.widgets.map(pd):dd,n=t&&(t.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!t.isSelection&&!e.some((e=>!!e.type.disableDelete&&e.type.disableDelete(t,f(l({},e.props),{readOnly:this.props.readOnly,env:this.props.env}))));return g(bn,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},g("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},g("div",{className:"r6o-arrow"}),g("div",{className:"r6o-editor-inner"},e.map(((e,n)=>ie.cloneElement(e,{key:`${n}`,focus:0===n,annotation:t,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk}))),this.props.readOnly?g("div",{className:"r6o-footer"},g("button",{className:"r6o-btn",onClick:this.onCancel},Du.t("Close"))):g("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},n&&g("button",{className:"r6o-btn left delete-annotation",title:Du.t("Delete"),onClick:this.onDelete},g(Vh,{width:12})),g("button",{className:"r6o-btn outline",onClick:this.onCancel},Du.t("Cancel")),g("button",{className:"r6o-btn ",onClick:this.onOk},Du.t("Ok"))))))}}var bd,gd=new Uint8Array(16);function wd(){if(!bd&&!(bd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bd(gd)}var Sd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ad(t){return"string"==typeof t&&Sd.test(t)}for(var Od=[],xd=0;xd<256;++xd)Od.push((xd+256).toString(16).substr(1));function kd(t,e,n){var r=(t=t||{}).random||(t.rng||wd)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Od[t[e+0]]+Od[t[e+1]]+Od[t[e+2]]+Od[t[e+3]]+"-"+Od[t[e+4]]+Od[t[e+5]]+"-"+Od[t[e+6]]+Od[t[e+7]]+"-"+Od[t[e+8]]+Od[t[e+9]]+"-"+Od[t[e+10]]+Od[t[e+11]]+Od[t[e+12]]+Od[t[e+13]]+Od[t[e+14]]+Od[t[e+15]]).toLowerCase();if(!Ad(n))throw TypeError("Stringified UUID is invalid");return n}(r)}var jd=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n};const Md=class{constructor(t,e){d(this,"clone",((t,e)=>new Md(l(l({},this.underlying),t),l(l({},this.opts),e)))),d(this,"selector",(t=>{const{target:e}=this.underlying;if(e.selector)return(Array.isArray(e.selector)?e.selector:[e.selector]).find((e=>e.type===t))})),this.underlying=t,this.opts=e}isEqual(t){return"Annotation"===(null==t?void 0:t.type)&&(this.underlying===t.underlying||!(!this.underlying.id||!t.underlying.id)&&jd(this.underlying,t.underlying))}get readOnly(){var t;return null==(t=this.opts)?void 0:t.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(t){this.underlying.body=t}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let Ed=Md;d(Ed,"create",(t=>{const e={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${kd()}`,body:[]};return new Md(l(l({},e),t))}));class Cd{constructor(t,e){d(this,"clone",(t=>{const e=new Cd;return e.underlying=JSON.parse(JSON.stringify(this.underlying)),t&&(e.underlying=l(l({},e.underlying),t)),e})),d(this,"selector",(t=>{const{target:e}=this.underlying;if(e.selector)return(Array.isArray(e.selector)?e.selector:[e.selector]).find((e=>e.type===t))})),d(this,"toAnnotation",(()=>{const t=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${kd()}`});return new Ed(t)})),this.underlying={type:"Selection",body:e||[],target:t}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(t){return!!t&&jd(this.underlying,t.underlying)}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let Dd=0;const Td="http://www.w3.org/2000/svg",_d=t=>{const e=t.getAttribute("class");return e?new Set(e.split(" ")):new Set},Id=(t,e)=>{const n=_d(t);n.add(e),t.setAttribute("class",Array.from(n).join(" "))},Pd=(t,e)=>_d(t).has(e),Rd=(t,e)=>{const n=t.selector("FragmentSelector");if(null==n?void 0:n.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:t}=n,r=t.includes(":")?t.substring(t.indexOf("=")+1,t.indexOf(":")):"pixel",i=t.includes(":")?t.substring(t.indexOf(":")+1):t.substring(t.indexOf("=")+1);let[o,s,a,u]=i.split(",").map(parseFloat);return"percent"===r.toLowerCase()&&(o=o*e.naturalWidth/100,s=s*e.naturalHeight/100,a=a*e.naturalWidth/100,u=u*e.naturalHeight/100),{x:o,y:s,w:a,h:u}}},Nd=(t,e,n,r,i,o)=>"percent"===(null==o?void 0:o.toLowerCase())?((t,e,n,r,i)=>({source:i.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${t/i.naturalWidth*100},${e/i.naturalHeight*100},${n/i.naturalWidth*100},${r/i.naturalHeight*100}`}}))(t,e,n,r,i):((t,e,n,r,i)=>({source:null==i?void 0:i.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${t},${e},${n},${r}`}}))(t,e,n,r,i),Fd=(t,e,n,r,i)=>{t.setAttribute("x",e),t.setAttribute("y",n),t.setAttribute("width",r),t.setAttribute("height",i)},$d=(t,e,n)=>{t.setAttribute("cx",e),t.setAttribute("cy",n),t.setAttribute("r",7)},Ud=(t,e,n,r,i)=>{const o=document.createElementNS(Td,"path");o.setAttribute("fill-rule","evenodd");const{naturalWidth:s,naturalHeight:a}=t;return o.setAttribute("d",`M0 0 h${s} v${a} h-${s} z M${e} ${n} h${r} v${i} h-${r} z`),o},zd=(t,e,n,r,i,o)=>{const{naturalWidth:s,naturalHeight:a}=e;t.setAttribute("d",`M0 0 h${s} v${a} h-${s} z M${n} ${r} h${i} v${o} h-${i} z`)},Vd=(t,e,n,r)=>{const{x:i,y:o,w:s,h:a}="Annotation"===t.type||"Selection"===t.type?Rd(t,e):{x:t,y:e,w:n,h:r},u=document.createElementNS(Td,"g");if(0===s&&0===a){Id(u,"a9s-point"),Id(u,"a9s-non-scaling"),u.setAttribute("transform-origin",`${i} ${o}`);const t=document.createElementNS(Td,"circle"),e=document.createElementNS(Td,"circle");e.setAttribute("class","a9s-inner"),$d(e,i,o),t.setAttribute("class","a9s-outer"),$d(t,i,o),u.appendChild(t),u.appendChild(e)}else{const t=document.createElementNS(Td,"rect"),e=document.createElementNS(Td,"rect");e.setAttribute("class","a9s-inner"),Fd(e,i,o,s,a),t.setAttribute("class","a9s-outer"),Fd(t,i,o,s,a),u.appendChild(t),u.appendChild(e)}return u},Bd=t=>{const e=t.querySelector(".a9s-outer");return"rect"===e.nodeName?{x:parseFloat(e.getAttribute("x")),y:parseFloat(e.getAttribute("y")),w:parseFloat(e.getAttribute("width")),h:parseFloat(e.getAttribute("height"))}:{x:parseFloat(e.getAttribute("cx")),y:parseFloat(e.getAttribute("cy")),w:0,h:0}},Ld=(t,e,n,r,i)=>{const o=t.querySelector(".a9s-inner"),s=t.querySelector(".a9s-outer");"rect"===s.nodeName?(Fd(o,e,n,r,i),Fd(s,e,n,r,i)):($d(o,e,n),$d(s,e,n))};class Wd{constructor(t,e,n,r,i){d(this,"dragTo",((t,e)=>{this.group.style.display=null,this.opposite=[t,e];const{x:n,y:r,w:i,h:o}=this.bbox;zd(this.mask,this.env.image,n,r,i,o),Ld(this.rect,n,r,i,o)})),d(this,"getBoundingClientRect",(()=>this.rect.getBoundingClientRect())),d(this,"toSelection",(()=>{const{x:t,y:e,w:n,h:r}=this.bbox;return new Cd(Nd(t,e,n,r,this.env.image,this.config.fragmentUnit))})),d(this,"destroy",(()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null})),this.anchor=[t,e],this.opposite=[t,e],this.config=r,this.env=i,this.group=document.createElementNS(Td,"g"),this.mask=Ud(i.image,t,e,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Vd(t,e,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),n.appendChild(this.group)}get bbox(){const t=this.opposite[0]-this.anchor[0],e=this.opposite[1]-this.anchor[1];return{x:t>0?this.anchor[0]:this.opposite[0],y:e>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(t)),h:Math.max(1,Math.abs(e))}}get element(){return this.rect}}const Hd={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Yd=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Gd="An implementation is missing",Xd=Yd();class qd extends le{constructor(t,e,n){super(),d(this,"enableResponsive",(()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{const t=this.svg.getBoundingClientRect(),{width:e,height:n}=this.svg.viewBox.baseVal;this.scale=Math.max(e/t.width,n/t.height),this.onScaleChanged&&this.onScaleChanged(this.scale)})),this.resizeObserver.observe(this.svg.parentNode))})),d(this,"getSVGPoint",(t=>{const e=this.svg.createSVGPoint();if(Xd){const n=this.svg.getBoundingClientRect(),r=t.clientX-n.x,i=t.clientY-n.y,{left:o,top:s}=this.svg.getBoundingClientRect();return e.x=r+o,e.y=i+s,e.matrixTransform(this.g.getScreenCTM().inverse())}return e.x=t.offsetX,e.y=t.offsetY,e.matrixTransform(this.g.getCTM().inverse())})),d(this,"drawHandle",((t,e)=>{const n=document.createElementNS(Td,"g");n.setAttribute("class","a9s-handle");const r=document.createElementNS(Td,"g"),i=n=>{const r=document.createElementNS(Td,"circle");return r.setAttribute("cx",t),r.setAttribute("cy",e),r.setAttribute("r",n),r},o=this.config.handleRadius||6,s=i(o);s.setAttribute("class","a9s-handle-inner");const a=i(o+1);return a.setAttribute("class","a9s-handle-outer"),r.appendChild(a),r.appendChild(s),n.appendChild(r),n})),d(this,"setHandleXY",((t,e,n)=>{const r=t.querySelector(".a9s-handle-inner");r.setAttribute("cx",e),r.setAttribute("cy",n);const i=t.querySelector(".a9s-handle-outer");i.setAttribute("cx",e),i.setAttribute("cy",n)})),d(this,"getHandleXY",(t=>{const e=t.querySelector(".a9s-handle-outer");return{x:parseFloat(e.getAttribute("cx")),y:parseFloat(e.getAttribute("cy"))}})),d(this,"scaleHandle",(t=>{const e=t.querySelector(".a9s-handle-inner"),n=t.querySelector(".a9s-handle-outer"),r=this.scale*(this.config.handleRadius||6);e.setAttribute("r",r),n.setAttribute("r",r)})),this.svg=t.closest("svg"),this.g=t,this.config=e,this.env=n,this.scale=1;const{image:r}=n;(r instanceof Element||r instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Jd extends qd{constructor(t,e,n){super(t,e,n),d(this,"attachListeners",(({mouseMove:t,mouseUp:e,dblClick:n})=>{t&&(this.mouseMove=e=>{const{x:n,y:r}=this.getSVGPoint(e);this.started||(this.emit("startSelection",{x:n,y:r}),this.started=!0),t(n,r,e)},this.svg.addEventListener("mousemove",this.mouseMove)),e&&(this.mouseUp=t=>{if(0!==t.button)return;const{x:n,y:r}=this.getSVGPoint(t);e(n,r,t)},document.addEventListener("mouseup",this.mouseUp)),n&&(this.dblClick=t=>{const{x:e,y:r}=this.getSVGPoint(t);n(e,r,t)},document.addEventListener("dblclick",this.dblClick))})),d(this,"detachListeners",(()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)})),d(this,"start",((t,e)=>{const{x:n,y:r}=this.getSVGPoint(t);this.startDrawing(n,r,e,t)})),d(this,"startDrawing",(()=>{throw new Error(Gd)})),d(this,"createEditableShape",(()=>{throw new Error(Gd)})),this.started=!1}get isDrawing(){throw new Error(Gd)}}Jd.supports=()=>{throw new Error(Gd)};const Zd="An implementation is missing";class Kd extends qd{constructor(t,e,n,r){super(e,n,r),d(this,"updateState",(()=>{throw new Error(Zd)})),this.annotation=t}get element(){throw new Error(Zd)}}const Qd=/firefox/i.test(navigator.userAgent),tp=(t,e,n,r,i)=>{t.setAttribute("width",r),t.setAttribute("height",i),Qd?(t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("transform",`translate(${e}, ${n})`)):(t.setAttribute("x",e),t.setAttribute("y",n))},ep=(t,e)=>{const{x:n,y:r,width:i,height:o}=e.getBBox(),s=document.createElementNS(Td,"svg");s.setAttribute("class","a9s-formatter-el"),tp(s,n,r,i,o);const a=document.createElementNS(Td,"g");a.appendChild(t),s.appendChild(a),e.append(s)},np=(t,e,n)=>{if(!n)return t;const r=n(e);if(!r)return t;if("string"==typeof r||r instanceof String)Id(t,r);else if(r.nodeType===Node.ELEMENT_NODE)ep(r,t);else{const{className:e,style:n,element:i}=r;if(e&&Id(t,e),n){const e=t.querySelector(".a9s-outer"),r=t.querySelector(".a9s-inner");e&&r?(e.setAttribute("style","display:none"),r.setAttribute("style",n)):t.setAttribute("style",n)}i&&ep(i,t);for(const e in r)r.hasOwnProperty(e)&&e.startsWith("data-")&&t.setAttribute(e,r[e])}},rp=(t,e,n,r,i)=>{const o=t.querySelector(".a9s-formatter-el");o&&tp(o,e,n,r,i)};class ip extends Kd{constructor(t,e,n,r){super(t,e,n,r),d(this,"onScaleChanged",(()=>this.handles.map(this.scaleHandle))),d(this,"setSize",((t,e,n,r)=>{Ld(this.rectangle,t,e,n,r),zd(this.mask,this.env.image,t,e,n,r),rp(this.elementGroup,t,e,n,r);const[i,o,s,a]=this.handles;this.setHandleXY(i,t,e),this.setHandleXY(o,t+n,e),this.setHandleXY(s,t+n,e+r),this.setHandleXY(a,t,e+r)})),d(this,"stretchCorners",((t,e,n)=>{const r=this.getHandleXY(e),i=n.x-r.x,o=n.y-r.y,s=i>0?r.x:n.x,a=o>0?r.y:n.y,u=Math.abs(i),c=Math.abs(o);return Ld(this.rectangle,s,a,u,c),zd(this.mask,this.env.image,s,a,u,c),rp(this.elementGroup,s,a,u,c),this.setHandleXY(this.handles[t],n.x,n.y),this.setHandleXY(this.handles[(t+3)%4],r.x,n.y),this.setHandleXY(this.handles[(t+5)%4],n.x,r.y),{x:s,y:a,w:u,h:c}})),d(this,"onGrab",(t=>e=>{if(0!==e.button)return;this.grabbedElem=t;const n=this.getSVGPoint(e),{x:r,y:i}=Bd(this.rectangle);this.mouseOffset={x:n.x-r,y:n.y-i}})),d(this,"onMouseMove",(t=>{if(0!==t.button)return;const e=(t,e)=>t<0?0:t>e?e:t;if(this.grabbedElem){const n=this.getSVGPoint(t);if(this.grabbedElem===this.rectangle){const{w:t,h:r}=Bd(this.rectangle),{naturalWidth:i,naturalHeight:o}=this.env.image,s=e(n.x-this.mouseOffset.x,i-t),a=e(n.y-this.mouseOffset.y,o-r);this.setSize(s,a,t,r),this.emit("update",Nd(s,a,t,r,this.env.image,this.config.fragmentUnit))}else{const t=this.handles.indexOf(this.grabbedElem),e=t<2?this.handles[t+2]:this.handles[t-2],{x:r,y:i,w:o,h:s}=this.stretchCorners(t,e,n);this.emit("update",Nd(r,i,o,s,this.env.image,this.config.fragmentUnit))}}})),d(this,"onMouseUp",(()=>{this.grabbedElem=null,this.mouseOffset=null})),d(this,"updateState",(t=>{const{x:e,y:n,w:r,h:i}=Rd(t,this.env.image);this.setSize(e,n,r,i)})),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:i,y:o,w:s,h:a}=Rd(t,r.image);this.containerGroup=document.createElementNS(Td,"g"),this.mask=Ud(r.image,i,o,s,a),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Td,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=Vd(i,o,s,a),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[i,o],[i+s,o],[i+s,o+a],[i,o+a]].map((t=>{const[e,n]=t,r=this.drawHandle(e,n);return r.addEventListener("mousedown",this.onGrab(r)),this.elementGroup.appendChild(r),r})),this.containerGroup.appendChild(this.elementGroup),e.appendChild(this.containerGroup),np(this.rectangle,t,n.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class op extends Jd{constructor(t,e,n){super(t,e,n),d(this,"startDrawing",((t,e)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new Wd(t,e,this.g,this.config,this.env)})),d(this,"stop",(()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)})),d(this,"onMouseMove",((t,e)=>this.rubberband.dragTo(t,e))),d(this,"onMouseUp",(()=>{this.detachListeners(),this.started=!1;const{width:t,height:e}=this.rubberband.getBoundingClientRect();if(t>=(this.config.minSelectionWidth||4)&&e>=(this.config.minSelectionHeight||4)){const{element:t}=this.rubberband;t.annotation=this.rubberband.toSelection(),this.emit("complete",t)}else this.emit("cancel");this.stop()})),d(this,"createEditableShape",(t=>new ip(t,this.g,this.config,this.env))),this.rubberband=null}get isDrawing(){return null!=this.rubberband}}op.identifier="rect",op.supports=t=>{const e=t.selector("FragmentSelector");return null==e?void 0:e.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const sp=t=>{const e=t=>{Array.from(t.attributes).forEach((e=>{e.name.startsWith("on")&&t.removeAttribute(e.name)}))},n=t.getElementsByTagName("script");return Array.from(n).reverse().forEach((t=>t.parentNode.removeChild(t))),e(t),Array.from(t.querySelectorAll("*")).forEach(e),t},ap=t=>{const e=t.selector("SvgSelector");if(e){const t=new DOMParser,{value:n}=e,r=t.parseFromString(n,"image/svg+xml"),i=r.lookupPrefix(Td),o=r.lookupNamespaceURI(null);return i||o?sp(r).firstChild:sp((t=>{const e=(new XMLSerializer).serializeToString(t.documentElement).replace("<svg>",`<svg xmlns="${Td}">`);return(new DOMParser).parseFromString(e,"image/svg+xml").documentElement})(r)).firstChild}},up=t=>{const e=ap(t),n=document.createElementNS(Td,"g"),r=e.cloneNode(!0);r.setAttribute("class","a9s-inner");const i=e.cloneNode(!0);return i.setAttribute("class","a9s-outer"),n.appendChild(i),n.appendChild(r),n},cp=(t,e)=>{const n=t.querySelector(".a9s-inner").cloneNode(!0);n.removeAttribute("class"),n.removeAttribute("xmlns");let r=n.outerHTML||(new XMLSerializer).serializeToString(n);return r=r.replace(` xmlns="${Td}"`,""),{source:null==e?void 0:e.src,selector:{type:"SvgSelector",value:`<svg>${r}</svg>`}}},lp=t=>{const e=t.getAttribute("points").split(" ").map((t=>t.split(",").map((t=>parseFloat(t.trim())))));let n=0,r=e.length-1;for(let t=0;t<e.length;t++)n+=(e[r][0]+e[t][0])*(e[r][1]-e[t][1]),r=t;return Math.abs(.5*n)},fp=t=>{const e=t.getAttribute("r");return e*e*Math.PI},hp=t=>t.getAttribute("rx")*t.getAttribute("ry")*Math.PI,dp=t=>{const e=t.getAttribute("d").split("L");let n=0;if(e.length>1){var r=e[e.length-1].trim().split(" ");let t=parseFloat(r[0]),i=parseFloat(r[1]);r=e[0].substring(1).trim().split(" ");let o=parseFloat(r[0]),s=parseFloat(r[1]);n+=(t+o)*(i-s),t=o,i=s;for(let a=1;a<e.length;a++)r=e[a].trim().split(" "),o=parseFloat(r[0]),s=parseFloat(r[1]),n+=(t+o)*(i-s),t=o,i=s}return Math.abs(.5*n)};class pp{constructor(t,e){d(this,"redraw",(()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)})),d(this,"destroy",(()=>this.mask.parentNode.removeChild(this.mask))),this.w=t.naturalWidth,this.h=t.naturalHeight,this.polygon=e,this.mask=document.createElementNS(Td,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class vp{constructor(t,e,n){d(this,"setPoints",(t=>{const e=t.map((t=>`${t[0]},${t[1]}`)).join(" ");this.outer.setAttribute("points",e),this.inner.setAttribute("points",e)})),d(this,"getBoundingClientRect",(()=>this.outer.getBoundingClientRect())),d(this,"dragTo",(t=>{this.group.style.display=null,this.mousepos=t;const e=[...this.points,t];this.setPoints(e),this.mask.redraw()})),d(this,"addPoint",(()=>{const[t,e]=this.mousepos,n=this.points[this.points.length-1];Math.pow(t-n[0],2)+Math.pow(e-n[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())})),d(this,"destroy",(()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null})),d(this,"toSelection",(()=>new Cd(cp(this.group,this.env.image)))),this.points=[t],this.env=n,this.mousepos=t,this.group=document.createElementNS(Td,"g"),this.polygon=document.createElementNS(Td,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Td,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Td,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new pp(n.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),e.appendChild(this.group)}get element(){return this.polygon}}const yp=t=>{const e=t.querySelector(".a9s-inner").points,n=[];for(let t=0;t<e.numberOfItems;t++)n.push(e.getItem(t));return n};class mp extends Kd{constructor(t,e,n,r){super(t,e,n,r),d(this,"onScaleChanged",(()=>this.handles.map(this.scaleHandle))),d(this,"setPoints",(t=>{const e=t=>Math.round(10*t)/10,n=t.map((t=>`${e(t.x)},${e(t.y)}`)).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",n);const r=this.shape.querySelector(".a9s-outer");r.setAttribute("points",n),this.mask.redraw();const{x:i,y:o,width:s,height:a}=r.getBBox();rp(this.elementGroup,i,o,s,a)})),d(this,"onGrab",(t=>e=>{0===e.button&&(this.grabbedElem=t,this.grabbedAt=this.getSVGPoint(e))})),d(this,"onMouseMove",(t=>{const e=(t,e,n)=>t+e<0?-t:t+e>n?n-t:e;if(this.grabbedElem){const n=this.getSVGPoint(t);if(this.grabbedElem===this.shape){const{x:t,y:r,width:i,height:o}=(t=>t.querySelector(".a9s-inner").getBBox())(this.shape),{naturalWidth:s,naturalHeight:a}=this.env.image,u=e(t,n.x-this.grabbedAt.x,s-i),c=e(r,n.y-this.grabbedAt.y,a-o),l=yp(this.shape).map((t=>({x:t.x+u,y:t.y+c})));this.grabbedAt=n,this.setPoints(l),l.forEach(((t,e)=>this.setHandleXY(this.handles[e],t.x,t.y))),this.emit("update",cp(this.shape,this.env.image))}else{const t=this.handles.indexOf(this.grabbedElem),e=yp(this.shape).map(((e,r)=>r===t?n:e));this.setPoints(e),this.setHandleXY(this.handles[t],n.x,n.y),this.emit("update",cp(this.shape,this.env.image))}}})),d(this,"onMouseUp",(()=>{this.grabbedElem=null,this.grabbedAt=null})),d(this,"updateState",(t=>{const e=ap(t).getAttribute("points").split(" ").map((t=>{const[e,n]=t.split(",").map((t=>parseFloat(t.trim())));return{x:e,y:n}}));this.setPoints(e),e.forEach(((t,e)=>this.setHandleXY(this.handles[e],t.x,t.y)))})),d(this,"destroy",(()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()})),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Td,"g"),this.shape=up(t),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new pp(r.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Td,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=yp(this.shape).map((t=>{const e=this.drawHandle(t.x,t.y);return e.addEventListener("mousedown",this.onGrab(e)),this.elementGroup.appendChild(e),e})),this.containerGroup.appendChild(this.elementGroup),e.appendChild(this.containerGroup),np(this.shape,t,n.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class bp extends Jd{constructor(t,e,n){super(t,e,n),d(this,"startDrawing",((t,e,n)=>{this._isDrawing=!0,this._startOnSingleClick=n,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new vp([t,e],this.g,this.env)})),d(this,"stop",(()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)})),d(this,"onMouseMove",((t,e)=>this.rubberband.dragTo([t,e]))),d(this,"onMouseUp",(()=>{const{width:t,height:e}=this.rubberband.getBoundingClientRect();t>=(this.config.minSelectionWidth||4)||e>=(this.config.minSelectionHeight||4)?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())})),d(this,"onDblClick",(()=>{this._isDrawing=!1;const t=this.rubberband.element;t.annotation=this.rubberband.toSelection(),this.emit("complete",t),this.stop()})),d(this,"createEditableShape",(t=>new mp(t,this.g,this.config,this.env))),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}bp.identifier="polygon",bp.supports=t=>{var e;const n=t.selector("SvgSelector");if(n)return null==(e=n.value)?void 0:e.match(/^<svg.*<polygon/g)};class gp extends le{constructor(t,e,n){super(),d(this,"listTools",(()=>this._registered.map((t=>t.identifier)))),d(this,"registerTool",(t=>{const e=t.identifier;this.listTools().includes(e)&&this.unregisterTool(e),this._registered.push(t)})),d(this,"unregisterTool",(t=>this._registered=this._registered.filter((e=>e.identifier!==t)))),d(this,"setCurrent",(t=>{const e="string"==typeof t||t instanceof String?this._registered.find((e=>e.identifier===t)):t;this._current=new e(this._g,this._config,this._env),this._current.on("startSelection",(t=>this.emit("startSelection",t))),this._current.on("complete",(t=>this.emit("complete",t))),this._current.on("cancel",(t=>this.emit("cancel",t)))})),d(this,"forAnnotation",(t=>{var e;const[n,...r]=t.targets,i=null==(e=n.renderedVia)?void 0:e.name,o=this._registered.find(i?t=>t.identifier===i:e=>e.supports(t));return o?new o(this._g,this._config,this._env):null})),this._g=t,this._config=e,this._env=n,this._registered=[op,bp],this.setCurrent(op)}get current(){return this._current}}class wp{constructor(t,e,n){this.svg=t.closest("svg"),this.g=document.createElementNS(Td,"g"),this.g.setAttribute("class","a9s-crosshair");const r=document.createElementNS(Td,"line"),i=document.createElementNS(Td,"line");this.g.appendChild(r),this.g.appendChild(i),t.appendChild(this.g);const o=e=>{const n=this.svg.getBoundingClientRect(),r=e.clientX-n.x,i=e.clientY-n.y,o=this.svg.createSVGPoint(),{left:s,top:a}=this.svg.getBoundingClientRect();return o.x=r+s,o.y=i+a,o.matrixTransform(t.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",(t=>{const{x:s,y:a}=o(t);r.setAttribute("x1",0),r.setAttribute("y1",a),r.setAttribute("x2",e),r.setAttribute("y2",a),i.setAttribute("x1",s),i.setAttribute("y1",0),i.setAttribute("x2",s),i.setAttribute("y2",n)}))}}const Sp={FragmentSelector:Vd,SvgSelector:up},Ap={FragmentSelector:(t,e)=>{const{w:n,h:r}=Rd(t,e);return n*r},SvgSelector:t=>{const e=ap(t),n=e.nodeName.toLowerCase();if("polygon"===n)return lp(e);if("circle"===n)return fp(e);if("ellipse"===n)return hp(e);if("path"==n)return dp(e);throw`Unsupported SVG shape type: ${n}`}},Op=t=>{const e=t.targets[0];if(e)return Array.isArray(e.selector)?e.selector[0]:e.selector},xp=(t,e)=>Sp[Op(t).type](t,e),kp=(t,e)=>Ap[Op(t).type](t,e);function jp(t,e,n,r,i){Mp(t,e,n||0,r||t.length-1,i||Cp)}function Mp(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Mp(t,e,Math.max(n,Math.floor(e-s*u/o+c)),Math.min(r,Math.floor(e+(o-s)*u/o+c)),i)}var l=t[e],f=n,h=r;for(Ep(t,n,e),i(t[r],l)>0&&Ep(t,n,r);f<h;){for(Ep(t,f,h),f++,h--;i(t[f],l)<0;)f++;for(;i(t[h],l)>0;)h--}0===i(t[n],l)?Ep(t,n,h):Ep(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function Ep(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Cp(t,e){return t<e?-1:t>e?1:0}class Dp{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!Bp(t,e))return n;const r=this.toBBox,i=[];for(;e;){for(let o=0;o<e.children.length;o++){const s=e.children[o],a=e.leaf?r(s):s;Bp(t,a)&&(e.leaf?n.push(s):Vp(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n}collides(t){let e=this.data;if(!Bp(t,e))return!1;const n=[];for(;e;){for(let r=0;r<e.children.length;r++){const i=e.children[r],o=e.leaf?this.toBBox(i):i;if(Bp(t,o)){if(e.leaf||Vp(t,o))return!0;n.push(i)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Lp([]),this}remove(t,e){if(!t)return this;let n=this.data;const r=this.toBBox(t),i=[],o=[];let s,a,u;for(;n||i.length;){if(n||(n=i.pop(),a=i[i.length-1],s=o.pop(),u=!0),n.leaf){const r=Tp(t,n.children,e);if(-1!==r)return n.children.splice(r,1),i.push(n),this._condense(i),this}u||n.leaf||!Vp(n,r)?a?(s++,n=a.children[s],u=!1):n=null:(i.push(n),o.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,r){const i=n-e+1;let o,s=this._maxEntries;if(i<=s)return o=Lp(t.slice(e,n+1)),_p(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),o=Lp([]),o.leaf=!1,o.height=r;const a=Math.ceil(i/s),u=a*Math.ceil(Math.sqrt(s));Wp(t,e,n,u,this.compareMinX);for(let i=e;i<=n;i+=u){const e=Math.min(i+u-1,n);Wp(t,i,e,a,this.compareMinY);for(let n=i;n<=e;n+=a){const i=Math.min(n+a-1,e);o.children.push(this._build(t,n,i,r-1))}}return _p(o,this.toBBox),o}_chooseSubtree(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let o=0;o<e.children.length;o++){const s=e.children[o],a=Fp(s),u=Up(t,s)-a;u<i?(i=u,r=a<r?a:r,n=s):u===i&&a<r&&(r=a,n=s)}e=n||e.children[0]}return e}_insert(t,e,n){const r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),Pp(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)}_split(t,e){const n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const o=this._chooseSplitIndex(n,i,r),s=Lp(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,_p(n,this.toBBox),_p(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=Lp([t,e]),this.data.height=t.height+1,this.data.leaf=!1,_p(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let r,i=1/0,o=1/0;for(let s=e;s<=n-e;s++){const e=Ip(t,0,s,this.toBBox),a=Ip(t,s,n,this.toBBox),u=zp(e,a),c=Fp(e)+Fp(a);u<i?(i=u,r=s,o=c<o?c:o):u===i&&c<o&&(o=c,r=s)}return r||n-e}_chooseSplitAxis(t,e,n){const r=t.leaf?this.compareMinX:Rp,i=t.leaf?this.compareMinY:Np;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const i=this.toBBox,o=Ip(t,0,e,i),s=Ip(t,n-e,n,i);let a=$p(o)+$p(s);for(let r=e;r<n-e;r++){const e=t.children[r];Pp(o,t.leaf?i(e):e),a+=$p(o)}for(let r=n-e-1;r>=e;r--){const e=t.children[r];Pp(s,t.leaf?i(e):e),a+=$p(s)}return a}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)Pp(e[r],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():_p(t[n],this.toBBox)}}function Tp(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function _p(t,e){Ip(t,0,t.children.length,e,t)}function Ip(t,e,n,r,i){i||(i=Lp(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<n;o++){const e=t.children[o];Pp(i,t.leaf?r(e):e)}return i}function Pp(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Rp(t,e){return t.minX-e.minX}function Np(t,e){return t.minY-e.minY}function Fp(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function $p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Up(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function zp(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function Vp(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Bp(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Lp(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Wp(t,e,n,r,i){const o=[e,n];for(;o.length;){if((n=o.pop())-(e=o.pop())<=r)continue;const s=e+Math.ceil((n-e)/r/2)*r;jp(t,s,e,n,i),o.push(e,s,s,n)}}const Hp=t=>{const e=xp(t),n=document.createElementNS(Td,"svg");n.style.position="absolute",n.style.opacity=0,n.style.top=0,n.style.left=0,n.appendChild(e),document.body.appendChild(n);const{x:r,y:i,width:o,height:s}=e.getBBox();return document.body.removeChild(n),{minX:r,minY:i,maxX:r+o,maxY:i+s}};class Yp{constructor(t){d(this,"getAnnotationAt",((t,e,n)=>{const r=n?5/n:5,i=this.spatial_index.search({minX:t-r,minY:e-r,maxX:t+r,maxY:e+r}).map((t=>t.annotation));if(i.length>0)return i.sort(((t,e)=>kp(t,this.env.image)-kp(e,this.env.image))),i[0]})),d(this,"getAnnotationsIntersecting",(t=>this.spatial_index.search(t).map((t=>t.annotation)))),d(this,"insert",(t=>{(Array.isArray(t)?t:[t]).forEach((t=>{this.spatial_index.insert(f(l({},Hp(t)),{annotation:t}))}))})),d(this,"remove",(t=>{const e=f(l({},Hp(t)),{annotation:t});this.spatial_index.remove(e,((t,e)=>t.annotation.id===e.annotation.id))})),this.env=t,this.spatial_index=new Dp}}const Gp=Yd();class Xp extends le{constructor(t){super(),d(this,"_getShapeAt",(t=>{const{x:e,y:n}=(t=>{const e=this.svg.createSVGPoint();if(window.TouchEvent&&t instanceof TouchEvent){const n=this.svg.getBoundingClientRect(),r=t.touches[0],i=r.clientX-n.x,o=r.clientY-n.y,{left:s,top:a}=this.svg.getBoundingClientRect();return e.x=i+s,e.y=o+a,e.matrixTransform(this.g.getScreenCTM().inverse())}return e.x=t.offsetX,e.y=t.offsetY,e.matrixTransform(this.g.getCTM().inverse())})(t),r=this.store.getAnnotationAt(e,n,this.currentScale());if(r)return this.findShape(r)})),d(this,"_initDrawingTools",(t=>{this.tools=new gp(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let e=!1;this.mouseTracker=new c.default.MouseTracker({element:this.svg,pressHandler:e=>{this.tools.current.isDrawing||(this.tools.current.start(e.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),t||this.scaleTool(this.tools.current))},moveHandler:t=>{if(this.tools.current.isDrawing){const{x:n,y:r}=this.tools.current.getSVGPoint(t.originalEvent);this.tools.current.onMouseMove(n,r,t.originalEvent),e||(this.emit("startSelection",{x:n,y:r}),e=!0)}},releaseHandler:t=>{if(this.tools.current.isDrawing){const{x:e,y:n}=this.tools.current.getSVGPoint(t.originalEvent);this.tools.current.onMouseUp(e,n,t.originalEvent)}e=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=t=>{16===t.which&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=t=>{16===t.which&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)})),d(this,"_initMouseEvents",(()=>{let t=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",(e=>{var n,r;if(!(null==(n=this.tools)?void 0:n.current.isDrawing)&&!e.target.closest(".a9s-annotation.editable.selected")){const n=this._getShapeAt(e);(null==n?void 0:n.annotation)!==(null==(r=this.hoveredShape)?void 0:r.annotation)&&(this.hoveredShape&&(this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=t,((t,e)=>{const n=_d(t);n.delete(e),0===n.size?t.removeAttribute("class"):t.setAttribute("class",Array.from(n).join(" "))})(this.hoveredShape.element||this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)),n&&(t=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,Id(n,"hover"),this.emit("mouseEnterAnnotation",n.annotation,n))),this.hoveredShape=n}}));let e=null;new c.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{e=(new Date).getTime()}}),this.svg.addEventListener("mousedown",(()=>{e=(new Date).getTime()}));const n=t=>{var n;if(!(null==(n=this.tools.current)?void 0:n.isDrawing)&&!this.disableSelect&&(new Date).getTime()-e<250){const e=t.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(t);e?this.selectShape(e):e||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",n),this.svg.addEventListener("touchstart",n)})),d(this,"_refreshNonScalingAnnotations",(()=>{const t=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach((e=>e.setAttribute("transform",`scale(${1/t})`)))})),d(this,"addAnnotation",((t,e)=>{const n=e||this.g,r=xp(t,this.env.image);return Id(r,"a9s-annotation"),r.setAttribute("data-id",t.id),r.annotation=t,n.appendChild(r),np(r,t,this.formatter),this.scaleFormatterElements(r),r})),d(this,"addDrawingTool",(t=>this.tools.registerTool(t))),d(this,"addOrUpdateAnnotation",((t,e)=>{var n,r;((null==(n=this.selectedShape)?void 0:n.annotation)===t||(null==(r=this.selectedShape)?void 0:r.annotation)==e)&&this.deselect(),e&&this.removeAnnotation(t),this.removeAnnotation(t);const i=this.addAnnotation(t);Pd(i,"a9s-non-scaling")&&i.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(t)})),d(this,"currentScale",(()=>{const t=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*t/this.viewer.world.getContentFactor()})),d(this,"deselect",(()=>{var t;if(null==(t=this.tools)||t.current.stop(),this.selectedShape){const{annotation:t}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!t.isSelection)){const e=this.addAnnotation(t);Pd(e,"a9s-non-scaling")&&e.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}})),d(this,"destroy",(()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)})),d(this,"findShape",(t=>this.g.querySelector(`.a9s-annotation[data-id="${(null==t?void 0:t.id)?t.id:t}"]`))),d(this,"fitBounds",((t,e)=>{const n=this.findShape(t);if(n){const{x:t,y:r,width:i,height:o}=n.getBBox(),s=this.viewer.viewport.imageToViewportRectangle(t,r,i,o);this.viewer.viewport.fitBounds(s,e)}})),d(this,"getAnnotations",(()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map((t=>t.annotation)))),d(this,"getSelectedImageSnippet",(()=>{var t;if(this.selectedShape){const e=null!=(t=this.selectedShape.element)?t:this.selectedShape;return((t,e)=>{const n=Pd(e,".a9s-annotation")?e:e.querySelector(".a9s-annotation"),{canvas:r}=t.drawer,i=r.getBoundingClientRect(),o=r.width/i.width,s=r.height/i.height,a=n.getBoundingClientRect(),u=a.x-i.x,c=a.y-i.y,{width:l,height:f}=a,h=document.createElement("CANVAS"),d=h.getContext("2d");h.width=l,h.height=f,d.drawImage(r,u*o,c*s,l*o,f*s,0,0,l,f);const p=t.viewport.viewportToImageCoordinates(a.x,a.y),v=t.viewport.viewportToImageZoom(t.viewport.getZoom());return{snippet:h,transform:t=>[p.x+t[0]/o/v,p.y+t[1]/s/v]}})(this.viewer,e)}})),d(this,"init",(t=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach((t=>this.g.removeChild(t))),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),t.forEach((t=>this.addAnnotation(t))),console.log("Indexing..."),this.store.insert(t),console.timeEnd("Took"),this.resize()})),d(this,"listDrawingTools",(()=>this.tools.listTools())),d(this,"overrideId",((t,e)=>{const n=this.findShape(t);n.setAttribute("data-id",e);const{annotation:r}=n,i=r.clone({id:e});return n.annotation=i,this.store.remove(r),this.store.insert(i),i})),d(this,"panTo",((t,e)=>{const n=this.findShape(t);if(n){const{top:t,left:r,width:i,height:o}=n.getBoundingClientRect(),s=r+i/2+window.scrollX,a=t+o/2+window.scrollY,u=this.viewer.viewport.windowToViewportCoordinates(new c.default.Point(s,a));this.viewer.viewport.panTo(u,e)}})),d(this,"removeAnnotation",(t=>{var e,n;(null==(e=this.selectedShape)?void 0:e.annotation.id)===(t.type?t.id:t)&&this.deselect();const r=this.findShape(t);if(r){const{annotation:t}=r;(null==(n=this.selectedShape)?void 0:n.annotation)===t&&this.deselect(),r.parentNode.removeChild(r),this.store.remove(t)}})),d(this,"removeDrawingTool",(t=>{var e;return null==(e=this.tools)?void 0:e.unregisterTool(t)})),d(this,"scaleFormatterElements",(t=>{const e=1/this.currentScale();if(t){const n=t.querySelector(".a9s-formatter-el");n&&n.firstChild.setAttribute("transform",`scale(${e})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach((t=>t.firstChild.setAttribute("transform",`scale(${e})`)))})),d(this,"scaleTool",(t=>{if(t){const e=1/this.currentScale();t.scale=e,t.onScaleChanged&&t.onScaleChanged(e)}})),d(this,"selectAnnotation",((t,e)=>{this.selectedShape&&this.deselect();const n=this.findShape(t);if(n)return this.selectShape(n,e),{annotation:n.annotation,element:this.selectedShape.element?this.selectedShape.element:this.selectedShape};this.deselect()})),d(this,"selectShape",((t,e)=>{var n;if(!e&&!t.annotation.isSelection&&this.emit("clickAnnotation",t.annotation,t),(null==(n=this.selectedShape)?void 0:n.annotation)===t.annotation)return;this.selectedShape&&this.selectedShape.annotation!==t.annotation&&this.deselect();const{annotation:r}=t;if(this.readOnly||r.readOnly||this.headless)this.selectedShape=t,e||this.emit("select",{annotation:r,element:t,skipEvent:e});else{const n=this.tools.forAnnotation(r);if(n){setTimeout((()=>{t.parentNode.removeChild(t),e||this.emit("select",{annotation:r,element:this.selectedShape.element})}),1),this.selectedShape=n.createEditableShape(r),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=r;const i=new c.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",(()=>{this.hoveredShape=this.selectedShape,i.setTracking(!0)})),this.selectedShape.element.addEventListener("mouseleave",(()=>{this.hoveredShape=null,i.setTracking(!1)})),this.selectedShape.mouseTracker=i,this.selectedShape.on("update",(t=>this.emit("updateTarget",this.selectedShape.element,t)))}else this.selectedShape=t,e||this.emit("select",{annotation:r,element:this.selectedShape})}})),d(this,"setDrawingEnabled",(t=>{var e;return null==(e=this.mouseTracker)?void 0:e.setTracking(t&&!this.readOnly)})),d(this,"setDrawingTool",(t=>{var e;this.tools&&(null==(e=this.tools.current)||e.stop(),this.tools.setCurrent(t))})),d(this,"setVisible",(t=>{t?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")})),d(this,"stopDrawing",(()=>{var t,e;return null==(e=null==(t=this.tools)?void 0:t.current)?void 0:e.stop()})),this.viewer=t.viewer,this.config=t.config,this.env=t.env,this.readOnly=t.config.readOnly,this.headless=t.config.headless,this.formatter=t.config.formatter,this.disableSelect=t.disableSelect,this.drawOnSingleClick=t.config.drawOnSingleClick,this.svg=document.createElementNS(Td,"svg"),Gp?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),(t=>{let e=null;const n=(t,e)=>new MouseEvent(t,{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,bubbles:!0}),r=t=>{const r=t.changedTouches[0],i=n(Hd[t.type],r);r.target.dispatchEvent(i),t.preventDefault(),("touchstart"===t.type||"touchmove"===t.type)&&(e&&clearTimeout(e),e=setTimeout((()=>{const t=n("dblclick",r);r.target.dispatchEvent(t)}),800)),"touchend"===t.type&&e&&clearTimeout(e)};t.addEventListener("touchstart",r,!0),t.addEventListener("touchmove",r,!0),t.addEventListener("touchend",r,!0),t.addEventListener("touchcancel",r,!0)})(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Td,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",(()=>this.resize())),this.viewer.addHandler("rotate",(()=>this.resize())),this.viewer.addHandler("resize",(()=>this.resize())),this.viewer.addHandler("flip",(()=>this.resize())),this.loaded=!1;const e=()=>{const{x:e,y:n}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:e,naturalHeight:n},t.config.crosshair&&(this.crosshair=new wp(this.g,e,n),Id(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",e),this.viewer.world.addHandler("add-item",e),this.viewer.world.getItemAt(0)&&e(),this.store=new Yp(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var t;const e=this.viewer.viewport.getFlip(),n=this.viewer.viewport.pixelFromPoint(new c.default.Point(0,0),!0);e&&(n.x=this.viewer.viewport._containerInnerSize.x-n.x);const r=this.currentScale(),i=e?-r:r,o=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${n.x}, ${n.y}) scale(${i}, ${r}) rotate(${o})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(null==(t=this.tools)?void 0:t.current.isDrawing)&&this.scaleTool(this.tools.current)}}class qp extends Xp{constructor(t){super(t),d(this,"onDrawingComplete",(t=>{this.selectShape(t),this.emit("createSelection",t.annotation),this.mouseTracker.setTracking(!1)})),this._initDrawingTools()}}const Jp=t=>{const e=t.viewport.viewportToImageRectangle(t.viewport.getBounds(!0)),n=t.viewport.getContainerSize().x;return{extent:e,scale:t.viewport.getZoom(!0)*n/t.world.getContentFactor()}},Zp=(t,e)=>{const{extent:n,scale:r}=Jp(t),{selector:i}=e,o=Ed.create({target:e});if("SvgSelector"===i.type){const t=ap(o),i=t.nodeName.toLowerCase();let s=null;if("polygon"===i)s=Kp(t,n,r);else if("circle"===i)s=Qp(t,n,r);else if("ellipse"===i)s=tv(t,n,r);else{if("path"!==i)throw`Unsupported SVG shape type: ${i}`;s=ev(t,n,r)}let a=s.outerHTML||(new XMLSerializer).serializeToString(s);return a=a.replace(` xmlns="${Td}"`,""),f(l({},e),{selector:{type:"SvgSelector",value:`<svg>${a}</svg>`}})}if("FragmentSelector"===i.type){const{x:t,y:e,w:i,h:s}=Rd(o);return Nd(n.x+t/r,n.y+e/r,i/r,s/r)}throw`Unsupported selector type: ${i.type}`},Kp=(t,e,n)=>{const r=Array.from(t.points).map((t=>e.x+t.x/n+","+(e.y+t.y/n))).join(" ");return t.setAttribute("points",r),t},Qp=(t,e,n)=>{const r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),o=parseFloat(t.getAttribute("r"));return t.setAttribute("cx",e.x+r/n),t.setAttribute("cy",e.y+i/n),t.setAttribute("r",o/n),t},tv=(t,e,n)=>{const r=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy")),o=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));return t.setAttribute("cx",e.x+r/n),t.setAttribute("cy",e.y+i/n),t.setAttribute("rx",o/n),t.setAttribute("ry",s/n),t},ev=(t,e,n)=>{const r=t.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((t=>t.trim())).map((t=>{const r=t.substring(0,1);if("z"===r.toLowerCase())return r;{const i=t.substring(1).split(" ").map((t=>parseFloat(t.trim()))),o=r===r.toUpperCase();return r+" "+(o?e.x+i[0]/n:i[0]/n)+" "+(o?e.y+i[1]/n:i[1]/n)}})).join(" ");return t.setAttribute("d",r),t},nv=(t,e)=>{const{extent:n,scale:r}=Jp(t),i=e.selector("FragmentSelector");if(e.selector("SvgSelector")){const t=ap(e),i=t.nodeName.toLowerCase();let o=null;if("polygon"===i)o=rv(t,n,r);else if("circle"===i)o=iv(t,n,r);else if("ellipse"===i)o=ov(t,n,r);else{if("path"!==i)throw`Unsupported SVG shape type: ${i}`;o=sv(t,n,r)}let s=o.outerHTML||(new XMLSerializer).serializeToString(o);return s=s.replace(` xmlns="${Td}"`,""),e.clone({target:{selector:{type:"SvgSelector",value:`<svg>${s}</svg>`}}})}if(i){const{x:t,y:i,w:o,h:s}=Rd(e),a=Nd((t-n.x)*r,(i-n.y)*r,o*r,s*r);return e.clone({target:a})}},rv=(t,e,n)=>{const r=Array.from(t.points).map((t=>n*(t.x-e.x)+","+n*(t.y-e.y))).join(" ");return t.setAttribute("points",r),t},iv=(t,e,n)=>{const r=t.getAttribute("cx"),i=t.getAttribute("cy"),o=t.getAttribute("r");return t.setAttribute("cx",n*(r-e.x)),t.setAttribute("cy",n*(i-e.y)),t.setAttribute("r",o*n),t},ov=(t,e,n)=>{const r=t.getAttribute("cx"),i=t.getAttribute("cy"),o=t.getAttribute("rx"),s=t.getAttribute("ry");return t.setAttribute("cx",n*(r-e.x)),t.setAttribute("cy",n*(i-e.y)),t.setAttribute("rx",o*n),t.setAttribute("ry",s*n),t},sv=(t,e,n)=>{const r=t.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((t=>t.trim())).map((t=>{const r=t.substring(0,1);if("z"===r.toLowerCase())return r;{const i=t.substring(1).split(" ").filter((t=>t)).map((t=>parseFloat(t.trim()))),o=r===r.toUpperCase();return r+" "+(o?n*(i[0]-e.x):n*i[0])+" "+(o?n*(i[1]-e.y):n*i[1])}})).join(" ");return t.setAttribute("d",r),t},av=(t,e)=>{const{extent:n,scale:r}=Jp(t),i=(t=>{var e;const n=t.targets[0];return n?Array.isArray(n.selector)?n.selector[0].type:null==(e=n.selector)?void 0:e.type:null})(e.annotation);if("FragmentSelector"===i)uv(e,n,r);else{if("SvgSelector"!==i)throw`Unsupported selector type type: ${i}`;cv(e,n,r)}},uv=(t,e,n)=>{const{x:r,y:i,w:o,h:s}=Rd(t.annotation),a=t.querySelector(".a9s-outer"),u=t.querySelector(".a9s-inner"),c=n*(r-e.x),l=n*(i-e.y);[a,u].forEach(0===o&&0===s?t=>{t.setAttribute("cx",c),t.setAttribute("cy",l)}:t=>{t.setAttribute("x",c),t.setAttribute("y",l),t.setAttribute("width",o*n),t.setAttribute("height",s*n)})},cv=(t,e,n)=>{const r=ap(t.annotation),i=r.nodeName.toLowerCase();if("polygon"===i)lv(t,r,e,n);else if("circle"===i)fv(t,r,e,n);else if("ellipse"===i)hv(t,r,e,n);else{if("path"!==i)throw`Unsupported SVG shape type: ${i}`;dv(t,r,e,n)}},lv=(t,e,n,r)=>{const i=Array.from(e.points).map((t=>r*(t.x-n.x)+","+r*(t.y-n.y))).join(" ");t.querySelector(".a9s-outer").setAttribute("points",i),t.querySelector(".a9s-inner").setAttribute("points",i)},fv=(t,e,n,r)=>{const i=r*(e.getAttribute("cx")-n.x),o=r*(e.getAttribute("cy")-n.y),s=r*e.getAttribute("r"),a=t.querySelector(".a9s-outer");a.setAttribute("cx",i),a.setAttribute("cy",o),a.setAttribute("r",s);const u=t.querySelector(".a9s-inner");u.setAttribute("cx",i),u.setAttribute("cy",o),u.setAttribute("r",s)},hv=(t,e,n,r)=>{const i=r*(e.getAttribute("cx")-n.x),o=r*(e.getAttribute("cy")-n.y),s=r*e.getAttribute("rx"),a=r*e.getAttribute("ry"),u=t.querySelector(".a9s-outer");u.setAttribute("cx",i),u.setAttribute("cy",o),u.setAttribute("rx",s),u.setAttribute("ry",a);const c=t.querySelector(".a9s-inner");c.setAttribute("cx",i),c.setAttribute("cy",o),c.setAttribute("rx",s),c.setAttribute("ry",a)},dv=(t,e,n,r)=>{const i=e.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((t=>t.trim())).map((t=>{const e=t.substring(0,1);if("z"===e.toLowerCase())return e;{const i=t.substring(1).split(" ").filter((t=>t)).map((t=>parseFloat(t.trim()))),o=e===e.toUpperCase();return e+" "+(o?r*(i[0]-n.x):r*i[0])+" "+(o?r*(i[1]-n.y):r*i[1])}})).join(" ");t.querySelector(".a9s-inner").setAttribute("d",i),t.querySelector(".a9s-outer").setAttribute("d",i)},pv=Yd();class vv extends Xp{constructor(t){super(t),d(this,"onDrawingComplete",(t=>{const e=t.annotation.clone({target:Zp(this.viewer,t.annotation.target)});t.annotation=e,this.selectShape(t),this.emit("createSelection",t.annotation),this.mouseTracker.setTracking(!1)})),d(this,"addAnnotation",((t,e)=>{const n=e||this.g,r=xp(t,this.env.image);return Id(r,"a9s-annotation"),r.setAttribute("data-id",t.id),r.annotation=t,av(this.viewer,r),n.appendChild(r),np(r,t,this.formatter),r})),d(this,"_getShapeAt",(t=>{const e=this.viewer.viewport.viewerElementToViewportCoordinates((t=>{if(pv){const e=this.svg.getBoundingClientRect();return new c.default.Point(t.clientX-e.x,t.clientY-e.y)}return new c.default.Point(t.offsetX,t.offsetY)})(t)),{x:n,y:r}=this.viewer.viewport.viewportToImageCoordinates(e.x,e.y),i=this.store.getAnnotationAt(n,r,this.currentScale());if(i)return this.findShape(i)})),d(this,"selectShape",((t,e)=>{var n;if(!e&&!t.annotation.isSelection&&this.emit("clickAnnotation",t.annotation,t),(null==(n=this.selectedShape)?void 0:n.annotation)===t.annotation)return;this.selectedShape&&this.selectedShape.annotation!==t.annotation&&this.deselect(!0);const{annotation:r}=t;if(this.readOnly||r.readOnly||this.headless)this.selectedShape=t,e||this.emit("select",{annotation:r,element:t,skipEvent:e});else{setTimeout((()=>{t.parentNode.removeChild(t),e||this.emit("select",{annotation:r,element:this.selectedShape.element})}),1);const n=this.tools.forAnnotation(r);this.selectedShape=n.createEditableShape(r),this.selectedShape.element.annotation=r;const i=nv(this.viewer,r);this.selectedShape.updateState(i);const o=new c.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",(()=>o.setTracking(!0))),this.selectedShape.element.addEventListener("mouseleave",(()=>o.setTracking(!1))),this.selectedShape.mouseTracker=o,this.selectedShape.on("update",(t=>{const e=Zp(this.viewer,t);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:e}),this.emit("updateTarget",this.selectedShape.element,e)}))}})),this._initDrawingTools(!0)}resize(){const t=this.viewer.viewport.getBounds(!0),{x:e,y:n,width:r,height:i}=this.viewer.viewport.viewportToImageRectangle(t),o=new Set(this.store.getAnnotationsIntersecting({minX:e,minY:n,maxX:e+r,maxY:n+i}).map((t=>t.id)));if(o.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach((t=>{o.has(t.annotation.id)?(t.removeAttribute("visibility"),av(this.viewer,t)):t.hasAttribute("visibility")||t.setAttribute("visibility","hidden")})),this.selectedShape)if(this.selectedShape.element){const t=nv(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(t),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class yv extends O{constructor(t){super(t),d(this,"clearState",(t=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},t))),d(this,"forwardEvent",((t,e)=>{this.annotationLayer.on(t,((t,n)=>{this.props[e](t.clone(),n)}))})),d(this,"escapeKeyCancel",(t=>{if(27===t.which){this.annotationLayer.stopDrawing();const{selectedAnnotation:t}=this.state;t&&(this.cancelSelected(),this.props.onCancelSelected(t))}})),d(this,"handleStartSelect",(t=>this.props.onSelectionStarted(t))),d(this,"handleSelect",((t,e)=>{this.state.editorDisabled?this.onHeadlessSelect(t,e):this.onNormalSelect(t,e)})),d(this,"onNormalSelect",((t,e)=>{const{annotation:n,element:r}=t;if(n){const t=()=>{this.setState({selectedAnnotation:n,selectedDOMElement:r,modifiedTarget:null},(()=>{e||(n.isSelection?this.props.onSelectionCreated(n.clone()):this.props.onAnnotationSelected(n.clone(),r))}))},{selectedAnnotation:i}=this.state;i&&!i.isEqual(n)?this.clearState((()=>{this.props.onCancelSelected(i),t()})):t()}else{const{selectedAnnotation:t}=this.state;t?this.clearState((()=>this.props.onCancelSelected(t))):this.clearState()}})),d(this,"onHeadlessSelect",((t,e)=>{this.saveSelected().then((()=>{this.onNormalSelect(t,e)}))})),d(this,"handleUpdateTarget",((t,e)=>{this.setState({selectedDOMElement:t,modifiedTarget:e});const n=JSON.parse(JSON.stringify(e));this.props.onSelectionTargetChanged(n)})),d(this,"handleViewportChange",(t=>this.setState({selectedDOMElement:t}))),d(this,"overrideAnnotationId",(t=>e=>{const{id:n}=t;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},(()=>{this.annotationLayer.overrideId(n,e)})):this.annotationLayer.overrideId(n,e)})),d(this,"onCreateOrUpdateAnnotation",((t,e)=>(n,r)=>{let i=n.isSelection?n.toAnnotation():n;i=this.state.modifiedTarget?i.clone({target:this.state.modifiedTarget}):i.clone(),this.clearState((()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(i,r),this.props[t](i,r?r.clone():this.overrideAnnotationId(n)),e&&e()}))})),d(this,"onDeleteAnnotation",(t=>{this.clearState(),this.annotationLayer.removeAnnotation(t),this.props.onAnnotationDeleted(t)})),d(this,"onCancelAnnotation",((t,e)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(t),this.clearState(e)})),d(this,"addAnnotation",(t=>{var e;t.id===(null==(e=this.state.selectedAnnotation)?void 0:e.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(t.clone())})),d(this,"addDrawingTool",(t=>this.annotationLayer.addDrawingTool(t))),d(this,"cancelSelected",(()=>new Promise((t=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(t):t()})))),d(this,"fitBounds",((t,e)=>this.annotationLayer.fitBounds(t,e))),d(this,"getAnnotationById",(t=>{var e;return null==(e=this.annotationLayer.findShape(t))?void 0:e.annotation})),d(this,"getAnnotations",(()=>this.annotationLayer.getAnnotations().map((t=>t.clone())))),d(this,"getSelected",(()=>{var t;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:null==(t=this._editor.current)?void 0:t.getCurrentAnnotation()})),d(this,"getSelectedImageSnippet",(()=>this.annotationLayer.getSelectedImageSnippet())),d(this,"listDrawingTools",(()=>this.annotationLayer.listDrawingTools())),d(this,"panTo",((t,e)=>this.annotationLayer.panTo(t,e))),d(this,"removeAnnotation",(t=>this.annotationLayer.removeAnnotation(t))),d(this,"removeDrawingTool",(t=>this.annotationLayer.removeDrawingTool(t))),d(this,"saveSelected",(()=>new Promise((t=>{const e=this.state.selectedAnnotation;if(e)if(e.isSelection)e.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",t)(e,e):(this.annotationLayer.deselect(),t());else{const{beforeHeadlessModify:n,modifiedTarget:r}=this.state;n?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(e,n):r?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(e,e):this.onCancelAnnotation(e,t)}else t()})))),d(this,"selectAnnotation",(t=>{const e=this.annotationLayer.selectAnnotation(t,!0);if(e)return this.handleSelect(e,!0),e.annotation.clone();this.clearState()})),d(this,"setAnnotations",(t=>this.annotationLayer.init(t.map((t=>t.clone()))))),d(this,"setDrawingEnabled",(t=>this.annotationLayer.setDrawingEnabled(t))),d(this,"setDrawingTool",(t=>this.annotationLayer.setDrawingTool(t))),d(this,"setVisible",(t=>{this.annotationLayer.setVisible(t),t||this.clearState()})),d(this,"updateSelected",((t,e)=>new Promise((n=>{this.state.selectedAnnotation&&(e?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",n)(t):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",n)(t,this.state.selectedAnnotation):this.setState({selectedAnnotation:t,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},n))})))),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:t.config.readOnly,editorDisabled:t.config.disableEditor,widgets:t.config.widgets,beforeHeadlessModify:null},this._editor=ie.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new vv(this.props):new qp(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(t){this.setState({editorDisabled:t},(()=>{t?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)}))}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(t){this.annotationLayer.disableSelect=t}get readOnly(){return this.state.readOnly}set readOnly(t){this.annotationLayer.readOnly=t,this.setState({readOnly:t})}get widgets(){return this.state.widgets}set widgets(t){this.setState({widgets:t})}render(){var t;const e=this.state.readOnly||(null==(t=this.state.selectedAnnotation)?void 0:t.readOnly);return this.state.selectedAnnotation&&!this.state.editorDisabled&&g(md,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:e,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class mv{constructor(t,e){d(this,"handleAnnotationCreated",((t,e)=>this._emitter.emit("createAnnotation",t.underlying,e))),d(this,"handleAnnotationDeleted",(t=>this._emitter.emit("deleteAnnotation",t.underlying))),d(this,"handleAnnotationSelected",((t,e)=>this._emitter.emit("selectAnnotation",t.underlying,e))),d(this,"handleAnnotationUpdated",((t,e)=>this._emitter.emit("updateAnnotation",t.underlying,e.underlying))),d(this,"handleCancelSelected",(t=>this._emitter.emit("cancelSelected",t.underlying))),d(this,"handleClickAnnotation",((t,e)=>this._emitter.emit("clickAnnotation",t.underlying,e))),d(this,"handleSelectionCreated",(t=>this._emitter.emit("createSelection",t.underlying))),d(this,"handleSelectionStarted",(t=>this._emitter.emit("startSelection",t))),d(this,"handleSelectionTargetChanged",(t=>this._emitter.emit("changeSelectionTarget",t))),d(this,"handleMouseEnterAnnotation",((t,e)=>this._emitter.emit("mouseEnterAnnotation",t.underlying,e))),d(this,"handleMouseLeaveAnnotation",((t,e)=>this._emitter.emit("mouseLeaveAnnotation",t.underlying,e))),d(this,"_wrap",(t=>"Annotation"===(null==t?void 0:t.type)?new Ed(t):t)),d(this,"addAnnotation",(t=>this._app.current.addAnnotation(new Ed(t)))),d(this,"addDrawingTool",(t=>this._app.current.addDrawingTool(t))),d(this,"cancelSelected",(()=>this._app.current.cancelSelected())),d(this,"clearAnnotations",(()=>this.setAnnotations([]))),d(this,"clearAuthInfo",(()=>this._env.user=null)),d(this,"destroy",(()=>ie.unmountComponentAtNode(this.appContainerEl))),d(this,"fitBounds",((t,e)=>this._app.current.fitBounds(this._wrap(t),e))),d(this,"getAnnotationById",(t=>{const e=this._app.current.getAnnotationById(t);return null==e?void 0:e.underlying})),d(this,"getAnnotations",(()=>this._app.current.getAnnotations().map((t=>t.underlying)))),d(this,"getSelected",(()=>{const t=this._app.current.getSelected();return null==t?void 0:t.underlying})),d(this,"getSelectedImageSnippet",(()=>this._app.current.getSelectedImageSnippet())),d(this,"listDrawingTools",(()=>this._app.current.listDrawingTools())),d(this,"loadAnnotations",(t=>fetch(t).then((t=>t.json())).then((t=>(this.setAnnotations(t),t))))),d(this,"off",((t,e)=>this._emitter.off(t,e))),d(this,"on",((t,e)=>this._emitter.on(t,e))),d(this,"once",((t,e)=>this._emitter.once(t,e))),d(this,"panTo",((t,e)=>this._app.current.panTo(this._wrap(t),e))),d(this,"removeAnnotation",(t=>this._app.current.removeAnnotation(this._wrap(t)))),d(this,"removeDrawingTool",(t=>this._app.current.removeDrawingTool(t))),d(this,"saveSelected",(()=>this._app.current.saveSelected())),d(this,"selectAnnotation",(t=>{const e=this._app.current.selectAnnotation(this._wrap(t));return null==e?void 0:e.underlying})),d(this,"setAnnotations",(t=>{const e=(t||[]).map((t=>new Ed(t)));this._app.current.setAnnotations(e)})),d(this,"setAuthInfo",(t=>this._env.user=t)),d(this,"setDrawingEnabled",(t=>this._app.current.setDrawingEnabled(t))),d(this,"setDrawingTool",(t=>this._app.current.setDrawingTool(t))),d(this,"setServerTime",(t=>this._env.setServerTime(t))),d(this,"setVisible",(t=>this._app.current.setVisible(t))),d(this,"updateSelected",((t,e)=>{let n=null;"Annotation"===t.type?n=new Ed(t):"Selection"===t.type&&(n=new Cd(t.target,t.body)),n&&this._app.current.updateSelected(n,e)}));const n=e||{};this._app=ie.createRef(),this._emitter=new le,this._env={setServerTime:t=>{const e=Date.now();Dd=t-e},getCurrentTimeAdjusted:()=>new Date(Date.now()+Dd).toISOString(),toClientTime:t=>Date.parse(t)-Dd},this._element=t.element,"static"===window.getComputedStyle(this._element).getPropertyValue("position")&&(this._element.style.position="relative"),((t,e)=>{if(t){const n="auto"===t?window.navigator.userLanguage||window.navigator.language:t;try{Du.init(n.split("-")[0].toLowerCase(),e)}catch(t){console.warn(`Unsupported locale '${n}'. Falling back to default en.`)}}else Du.init(null,e)})(n.locale,n.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),ie.render(g(yv,{ref:this._app,viewer:t,wrapperEl:this._element,config:n,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(t){this._app.current.disableEditor=t}get disableSelect(){return this._app.current.disableSelect}set disableSelect(t){this._app.current.disableSelect=t}get readOnly(){return this._app.current.readOnly}set readOnly(t){this._app.current.readOnly=t}get widgets(){return this._app.current.widgets}set widgets(t){this._app.current.widgets=t}}return(t,e)=>new mv(t,e)}()})));export{i as o}